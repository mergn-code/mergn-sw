'use strict';function _0x4a14(_0x1e6a25,_0x264fc7){var _0x1e36dd=_0x1e36();return _0x4a14=function(_0x4a1412,_0x2415cd){_0x4a1412=_0x4a1412-0x195;var _0x231a7b=_0x1e36dd[_0x4a1412];return _0x231a7b;},_0x4a14(_0x1e6a25,_0x264fc7);}(function(_0x4ea982,_0x5812ca){var _0x5a2750=_0x4a14,_0x44e371=_0x4ea982();while(!![]){try{var _0x1ba149=-parseInt(_0x5a2750(0x1e3))/0x1+-parseInt(_0x5a2750(0x196))/0x2*(-parseInt(_0x5a2750(0x1cb))/0x3)+-parseInt(_0x5a2750(0x1c8))/0x4+-parseInt(_0x5a2750(0x19e))/0x5+-parseInt(_0x5a2750(0x1c9))/0x6+parseInt(_0x5a2750(0x1a8))/0x7*(-parseInt(_0x5a2750(0x1a3))/0x8)+-parseInt(_0x5a2750(0x1e4))/0x9*(-parseInt(_0x5a2750(0x1d9))/0xa);if(_0x1ba149===_0x5812ca)break;else _0x44e371['push'](_0x44e371['shift']());}catch(_0x4aa1d7){_0x44e371['push'](_0x44e371['shift']());}}}(_0x1e36,0xd71d0));((()=>{var _0x34e609=_0x4a14,_0x287718=Object[_0x34e609(0x1d3)],_0xebe7de=Object[_0x34e609(0x1be)],_0x3cee59=Object[_0x34e609(0x1b8)],_0x50d807=Object['getOwnPropertySymbols'],_0x37abbe=Object[_0x34e609(0x1d7)]['hasOwnProperty'],_0xad3d8e=Object[_0x34e609(0x1d7)][_0x34e609(0x1d8)],_0x58529a=(_0x58643b,_0x1ef547,_0x538ba6)=>_0x1ef547 in _0x58643b?_0x287718(_0x58643b,_0x1ef547,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x538ba6}):_0x58643b[_0x1ef547]=_0x538ba6,_0x2a6060=(_0xb0800d,_0x165845)=>{var _0x214c7e=_0x34e609;for(var _0x343b75 in _0x165845||(_0x165845={}))_0x37abbe[_0x214c7e(0x1e1)](_0x165845,_0x343b75)&&_0x58529a(_0xb0800d,_0x343b75,_0x165845[_0x343b75]);if(_0x50d807){for(var _0x343b75 of _0x50d807(_0x165845))_0xad3d8e[_0x214c7e(0x1e1)](_0x165845,_0x343b75)&&_0x58529a(_0xb0800d,_0x343b75,_0x165845[_0x343b75]);}return _0xb0800d;},_0x23bd50=(_0x1dbbaf,_0x24e330)=>_0xebe7de(_0x1dbbaf,_0x3cee59(_0x24e330)),_0x2bd9be=(_0x4710f3,_0x2d3428,_0x5b2817)=>new Promise((_0x54c3ba,_0x72fc32)=>{var _0xb7c1f5=_0x34e609,_0x2c726d=_0xa60050=>{var _0x39d331=_0x4a14;try{_0x3cada3(_0x5b2817[_0x39d331(0x1df)](_0xa60050));}catch(_0x1d0dd6){_0x72fc32(_0x1d0dd6);}},_0x193c54=_0x410896=>{var _0x45937d=_0x4a14;try{_0x3cada3(_0x5b2817[_0x45937d(0x1a9)](_0x410896));}catch(_0x197764){_0x72fc32(_0x197764);}},_0x3cada3=_0x1159e1=>_0x1159e1[_0xb7c1f5(0x195)]?_0x54c3ba(_0x1159e1[_0xb7c1f5(0x1e6)]):Promise[_0xb7c1f5(0x1cc)](_0x1159e1[_0xb7c1f5(0x1e6)])[_0xb7c1f5(0x1a7)](_0x2c726d,_0x193c54);_0x3cada3((_0x5b2817=_0x5b2817[_0xb7c1f5(0x1b6)](_0x4710f3,_0x2d3428))[_0xb7c1f5(0x1df)]());}),_0x2d56bd,_0x3fb7f7,_0x12a0a9=_0x34e609(0x1ad);function _0x367ef7(_0x59e8ee){return _0x2bd9be(this,null,function*(){var _0x38f293=_0x4a14;try{if(_0x554c3b(0x1,'Updating\x20subscription\x20details'),yield self[_0x38f293(0x1d6)]['pushManager'][_0x38f293(0x1bb)]()){_0x554c3b(0x1,_0x38f293(0x1c6));let _0x54e92b=yield(yield fetch(_0x12a0a9+_0x38f293(0x1af),{'headers':{'Authorization':_0x38f293(0x1ca),'Content-Type':_0x38f293(0x1bf)},'method':_0x38f293(0x1dc)}))[_0x38f293(0x1a2)]();return self[_0x38f293(0x1d6)][_0x38f293(0x1c3)][_0x38f293(0x1d0)]({'applicationServerKey':_0x54e92b[_0x38f293(0x1cd)],'userVisibleOnly':!0x0})[_0x38f293(0x1a7)](_0x4184ab=>fetch(_0x12a0a9+_0x38f293(0x1e7),{'body':JSON[_0x38f293(0x1bc)]({'device_id':_0x59e8ee,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x38f293(0x1b9)](JSON[_0x38f293(0x1bc)](_0x4184ab))}}),'headers':{'Authorization':_0x38f293(0x1ca),'Content-Type':_0x38f293(0x1bf)},'method':'PUT'}));}}catch(_0x2d7850){_0x554c3b(0x2,(_0x2d7850==null?void 0x0:_0x2d7850[_0x38f293(0x1b2)])||_0x38f293(0x1a0));}return{};});}var _0x554c3b=(_0x1652ac,_0x4a1664)=>_0x2bd9be(void 0x0,null,function*(){var _0x327c70=_0x34e609;try{if(!_0x2d56bd)return;_0x2d56bd<=0x3&&(_0x1652ac===0x1?console[_0x327c70(0x19f)](_0x327c70(0x1ae)+new Date()[_0x327c70(0x1c5)](),_0x4a1664):_0x1652ac===0x2&&console[_0x327c70(0x1ab)](_0x327c70(0x1bd)+new Date()[_0x327c70(0x1c5)](),_0x4a1664));}catch(_0x3030cd){console[_0x327c70(0x1ab)]((_0x3030cd==null?void 0x0:_0x3030cd[_0x327c70(0x1b2)])||_0x327c70(0x1dd));}}),_0x561de0=_0x28d2f9=>!_0x28d2f9[_0x34e609(0x197)]('http://')&&!_0x28d2f9['startsWith'](_0x34e609(0x1db))?'http://'+_0x28d2f9:_0x28d2f9,_0x2776d2=_0x1faf4c=>_0x2bd9be(void 0x0,[_0x1faf4c],function*({campaignCustomerInstanceId:_0x428eac,customerId:_0x1e8056,error:_0x56b4fe,eventId:_0x35d962,name:_0x2d4311}){var _0xc6b65d=_0x34e609;try{let _0x13d8cb={'customerId':_0x1e8056,'events':[_0x23bd50(_0x2a6060({'campaignCustomerInstanceId':_0x428eac,'eventId':_0x35d962,'eventProperties':[]},_0x2d4311?{'name':_0x2d4311}:{}),{'sessionId':_0xc6b65d(0x1b4)})]};try{fetch(_0x12a0a9+'/v2/event/record-event',{'body':JSON[_0xc6b65d(0x1bc)](_0x13d8cb),'headers':{'Authorization':_0xc6b65d(0x1ca),'Content-Type':_0xc6b65d(0x1bf)},'method':_0xc6b65d(0x1ce)});}catch(_0x5e9f13){_0x554c3b(0x2,(_0x5e9f13==null?void 0x0:_0x5e9f13[_0xc6b65d(0x1b2)])||_0xc6b65d(0x1c0));}_0x554c3b(0x1,_0xc6b65d(0x199)),_0x554c3b(0x1,_0x13d8cb);}catch(_0x434cc){_0x554c3b(0x2,(_0x434cc==null?void 0x0:_0x434cc[_0xc6b65d(0x1b2)])||_0xc6b65d(0x1c0));}});self[_0x34e609(0x1d2)](_0x34e609(0x1b2),_0x34b55f=>_0x2bd9be(void 0x0,null,function*(){var _0x3f4296=_0x34e609;try{let _0x281ae6=_0x34b55f[_0x3f4296(0x1cd)]?JSON[_0x3f4296(0x1b9)](_0x34b55f[_0x3f4296(0x1cd)]):null;_0x281ae6[_0x3f4296(0x1c2)]&&(_0x2d56bd=_0x281ae6[_0x3f4296(0x1c2)]),_0x281ae6[_0x3f4296(0x1b3)]&&(_0x3fb7f7=_0x281ae6['device_id']);}catch(_0x230d45){console['error'](_0x3f4296(0x19b),_0x230d45);}})),self[_0x34e609(0x1d2)]('push',function(_0xdc236d){return _0x2bd9be(this,null,function*(){var _0x4cc785=_0x4a14;try{if(_0xdc236d[_0x4cc785(0x1cd)]){let _0xdae2ec=_0xdc236d[_0x4cc785(0x1cd)][_0x4cc785(0x1a2)]();_0x554c3b(0x1,_0x4cc785(0x1d4)),_0x554c3b(0x1,_0xdae2ec),_0xdc236d['waitUntil'](self[_0x4cc785(0x1d6)][_0x4cc785(0x1b5)](_0xdae2ec[_0x4cc785(0x1c7)],_0xdae2ec[_0x4cc785(0x1a4)])),yield _0x2776d2({'campaignCustomerInstanceId':_0xdae2ec['options'][_0x4cc785(0x1cd)]['campaignCustomerInstanceId']||'','customerId':_0xdae2ec['options'][_0x4cc785(0x1cd)][_0x4cc785(0x1a5)],'eventId':0x1b6,'name':_0x4cc785(0x198)}),yield _0x367ef7(_0xdae2ec[_0x4cc785(0x1a4)][_0x4cc785(0x1cd)]['deviceId']);}}catch(_0x24def4){_0x554c3b(0x2,(_0x24def4==null?void 0x0:_0x24def4['message'])||'Error\x20in\x20push\x20event');}});}),self[_0x34e609(0x1d2)]('notificationclick',function(_0x1167c3){return _0x2bd9be(this,null,function*(){var _0x23dd0e=_0x4a14,_0x2739e7;try{if(_0x554c3b(0x1,_0x23dd0e(0x1de)),_0x554c3b(0x1,(_0x2739e7=_0x1167c3==null?void 0x0:_0x1167c3[_0x23dd0e(0x1a6)])==null?void 0x0:_0x2739e7[_0x23dd0e(0x1cd)]),_0x1167c3[_0x23dd0e(0x1a6)][_0x23dd0e(0x1c4)](),_0x1167c3['action']!==_0x23dd0e(0x19c)){if(_0x1167c3['action']!==_0x23dd0e(0x1e0)){let _0x559d4d=_0x1167c3[_0x23dd0e(0x1a6)][_0x23dd0e(0x1cd)][_0x23dd0e(0x1d5)];_0x1167c3[_0x23dd0e(0x1b7)](clients[_0x23dd0e(0x1b0)]({'includeUncontrolled':!0x0,'type':_0x23dd0e(0x1ac)})[_0x23dd0e(0x1a7)](function(_0x55fc7f){var _0x32c5cf=_0x23dd0e;let _0x135f13=null;for(let _0x5cffa0=0x0;_0x5cffa0<_0x55fc7f[_0x32c5cf(0x1d1)];_0x5cffa0++){let _0x31ebaa=_0x55fc7f[_0x5cffa0];if(_0x31ebaa[_0x32c5cf(0x1d5)]===_0x559d4d){_0x135f13=_0x31ebaa;break;}}return _0x135f13?_0x135f13['focus']():clients['openWindow'](_0x561de0(_0x559d4d));})),_0x2776d2({'campaignCustomerInstanceId':_0x1167c3['notification'][_0x23dd0e(0x1cd)][_0x23dd0e(0x1e5)]||'','customerId':_0x1167c3[_0x23dd0e(0x1a6)][_0x23dd0e(0x1cd)][_0x23dd0e(0x1a5)],'eventId':0x1b7,'name':_0x23dd0e(0x1e2)});}}}catch(_0xc7845a){_0x554c3b(0x2,(_0xc7845a==null?void 0x0:_0xc7845a[_0x23dd0e(0x1b2)])||_0x23dd0e(0x1c1));}});}),self[_0x34e609(0x1d2)](_0x34e609(0x1b1),function(_0x203be8){return _0x2bd9be(this,null,function*(){var _0x177cec=_0x4a14,_0x4502a9;try{_0x554c3b(0x1,_0x177cec(0x1a1)),_0x554c3b(0x1,(_0x4502a9=_0x203be8==null?void 0x0:_0x203be8[_0x177cec(0x1a6)])==null?void 0x0:_0x4502a9['data']),_0x2776d2({'campaignCustomerInstanceId':_0x203be8[_0x177cec(0x1a6)][_0x177cec(0x1cd)]['campaignCustomerInstanceId']||'','customerId':_0x203be8[_0x177cec(0x1a6)][_0x177cec(0x1cd)][_0x177cec(0x1a5)],'eventId':0x1b9,'name':_0x177cec(0x1c4)});}catch(_0x1d9cba){_0x554c3b(0x2,(_0x1d9cba==null?void 0x0:_0x1d9cba['message'])||_0x177cec(0x1aa));}});}),self[_0x34e609(0x1d2)](_0x34e609(0x1cf),function(_0x59a0e9){var _0x239654=_0x34e609;_0x59a0e9[_0x239654(0x1b7)](self[_0x239654(0x19d)]());}),self[_0x34e609(0x1d2)](_0x34e609(0x1ba),_0x38a3e6=>_0x2bd9be(void 0x0,null,function*(){var _0x4d6bb9=_0x34e609;if(_0x554c3b(0x1,_0x4d6bb9(0x1da)+JSON[_0x4d6bb9(0x1bc)](_0x38a3e6)),!_0x3fb7f7)return;let _0x186a76=self[_0x4d6bb9(0x1d6)][_0x4d6bb9(0x1c3)]['subscribe'](_0x38a3e6[_0x4d6bb9(0x19a)]['options'])[_0x4d6bb9(0x1a7)](_0x7e7528=>fetch(_0x12a0a9+'/device/add-device-token',{'body':JSON[_0x4d6bb9(0x1bc)]({'device_id':_0x3fb7f7,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':JSON[_0x4d6bb9(0x1b9)](JSON[_0x4d6bb9(0x1bc)](_0x7e7528))}),'headers':{'Authorization':'452ead4a69d5afc8d453d8157fdf9de9m67rgn1223aa6107e4bddf7747905100758d0c','Content-Type':_0x4d6bb9(0x1bf)},'method':'POST'}));_0x38a3e6['waitUntil'](_0x186a76);}),!0x1);})());function _0x1e36(){var _0x47032a=['Push\x20subscription\x20change\x20event\x20received:\x20','https://','GET','Error\x20in\x20logging\x20debug','Notification\x20click\x20event\x20received:','next','action2','call','click','1311622HbMASH','2529knYuqz','campaignCustomerInstanceId','value','/device/add-device-token','done','1474PkVzGH','startsWith','view','Recording\x20event:','oldSubscription','Error\x20processing\x20event:','action1','skipWaiting','2374695bHTPgE','info','Error\x20in\x20activate\x20event','Notification\x20close\x20event\x20received','json','509624hJdggI','options','customerId','notification','then','7GrDpMo','throw','Error\x20in\x20notification\x20close\x20event','error','window','https://u23z4zsda8.execute-api.ap-southeast-1.amazonaws.com/Prod/sdk-management/api','INFO:\x20','/brand/get-web-push-public-key','matchAll','notificationclose','message','device_id','abcd','showNotification','apply','waitUntil','getOwnPropertyDescriptors','parse','pushsubscriptionchange','getSubscription','stringify','ERROR:\x20','defineProperties','application/json','Error\x20in\x20recording\x20event','Error\x20in\x20notification\x20click\x20event','debugLevel','pushManager','close','toISOString','Existing\x20subscription\x20found','title','5309100sEeZFz','851130sowIjW','452ead4a69d5afc8d453d8157fdf9de9m67rgn1223aa6107e4bddf7747905100758d0c','7059Milzfn','resolve','data','POST','install','subscribe','length','addEventListener','defineProperty','Push\x20event\x20data\x20received:','url','registration','prototype','propertyIsEnumerable','87770txJvAv'];_0x1e36=function(){return _0x47032a;};return _0x1e36();}