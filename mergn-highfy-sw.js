'use strict';function _0x17e1(){var _0x47f279=['close','call','Push\x20event\x20data\x20received:','openWindow','PUT','error','matchAll','parse','startsWith','6697758ToiRcm','452ead4a69d5afc8d453d8157fdf9de9m67rgn1223aa6107e4bddf7747905100758d0c','3775560LjLhDB','defineProperties','Updating\x20subscription\x20details','ERROR:\x20','click','/device/add-device-token','1411943xqcgAM','value','http://','No\x20subscription\x20found','Error\x20in\x20unsubscribing\x20push\x20manager','pushManager','subscribe','propertyIsEnumerable','prototype','length','resolve','title','pushsubscriptionchange','application/json','Error\x20in\x20logging\x20debug','message','/v2/event/record-event','7rEoUhz','focus','defineProperty','255570OJZJxk','stringify','Error\x20in\x20push\x20event','Notification\x20click\x20event\x20received:','device_id','url','Error\x20in\x20activate\x20event','3221754BdwUGf','next','notificationclick','https://','info','throw','Error\x20in\x20recording\x20event','Existing\x20subscription\x20found','getOwnPropertySymbols','POST','INFO:\x20','json','Push\x20subscription\x20change\x20event\x20received:\x20','/brand/get-web-push-public-key','waitUntil','done','getSubscription','debugLevel','notification','data','action2','skipWaiting','view','Error\x20in\x20notification\x20close\x20event','GET','Error\x20in\x20notification\x20click\x20event','toISOString','then','Notification\x20close\x20event\x20received','push','584UVEdTO','getOwnPropertyDescriptors','1490aKbsIt','addEventListener','options','Error\x20processing\x20event:','45237024DzPZTR','registration','action','window','catch','campaignCustomerInstanceId'];_0x17e1=function(){return _0x47f279;};return _0x17e1();}function _0x514e(_0x35aa00,_0x3e9ee0){var _0x17e135=_0x17e1();return _0x514e=function(_0x514e69,_0x2564f5){_0x514e69=_0x514e69-0x1c4;var _0x4eddfc=_0x17e135[_0x514e69];return _0x4eddfc;},_0x514e(_0x35aa00,_0x3e9ee0);}(function(_0x5ad2ed,_0x4781ff){var _0x3a9461=_0x514e,_0x3a6087=_0x5ad2ed();while(!![]){try{var _0x2ed563=-parseInt(_0x3a9461(0x1e9))/0x1+-parseInt(_0x3a9461(0x1fd))/0x2+-parseInt(_0x3a9461(0x204))/0x3+parseInt(_0x3a9461(0x1cc))/0x4*(-parseInt(_0x3a9461(0x1ce))/0x5)+parseInt(_0x3a9461(0x1e1))/0x6*(-parseInt(_0x3a9461(0x1fa))/0x7)+-parseInt(_0x3a9461(0x1e3))/0x8+parseInt(_0x3a9461(0x1d2))/0x9;if(_0x2ed563===_0x4781ff)break;else _0x3a6087['push'](_0x3a6087['shift']());}catch(_0x102ea5){_0x3a6087['push'](_0x3a6087['shift']());}}}(_0x17e1,0xbea90));((()=>{var _0x959ccf=_0x514e,_0x8c5741=Object[_0x959ccf(0x1fc)],_0x3d1def=Object[_0x959ccf(0x1e4)],_0x2d6222=Object[_0x959ccf(0x1cd)],_0x5c2c72=Object[_0x959ccf(0x20c)],_0x3f4931=Object[_0x959ccf(0x1f1)]['hasOwnProperty'],_0x3871a1=Object[_0x959ccf(0x1f1)][_0x959ccf(0x1f0)],_0x2c49c8=(_0x18b2c9,_0x288c9d,_0x4d89ea)=>_0x288c9d in _0x18b2c9?_0x8c5741(_0x18b2c9,_0x288c9d,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x4d89ea}):_0x18b2c9[_0x288c9d]=_0x4d89ea,_0x26f07b=(_0x29f49e,_0x2ce375)=>{var _0x383733=_0x959ccf;for(var _0x2c1db8 in _0x2ce375||(_0x2ce375={}))_0x3f4931[_0x383733(0x1d9)](_0x2ce375,_0x2c1db8)&&_0x2c49c8(_0x29f49e,_0x2c1db8,_0x2ce375[_0x2c1db8]);if(_0x5c2c72){for(var _0x2c1db8 of _0x5c2c72(_0x2ce375))_0x3871a1[_0x383733(0x1d9)](_0x2ce375,_0x2c1db8)&&_0x2c49c8(_0x29f49e,_0x2c1db8,_0x2ce375[_0x2c1db8]);}return _0x29f49e;},_0xe7f1fd=(_0x5c310c,_0x5bc37d)=>_0x3d1def(_0x5c310c,_0x2d6222(_0x5bc37d)),_0x2710ac=(_0x319302,_0x330717,_0x2280ce)=>new Promise((_0x350eab,_0x1abdf5)=>{var _0x2fa13a=_0x959ccf,_0xca455b=_0x32e449=>{var _0x47dea7=_0x514e;try{_0x3fc7a7(_0x2280ce[_0x47dea7(0x205)](_0x32e449));}catch(_0x267eec){_0x1abdf5(_0x267eec);}},_0x22f1b0=_0x3ec529=>{var _0x19256c=_0x514e;try{_0x3fc7a7(_0x2280ce[_0x19256c(0x209)](_0x3ec529));}catch(_0x48521a){_0x1abdf5(_0x48521a);}},_0x3fc7a7=_0x24bc93=>_0x24bc93[_0x2fa13a(0x213)]?_0x350eab(_0x24bc93['value']):Promise[_0x2fa13a(0x1f3)](_0x24bc93[_0x2fa13a(0x1ea)])['then'](_0xca455b,_0x22f1b0);_0x3fc7a7((_0x2280ce=_0x2280ce['apply'](_0x319302,_0x330717))[_0x2fa13a(0x205)]());}),_0x9a15f4,_0x441d03,_0x1835e6='https://u23z4zsda8.execute-api.ap-southeast-1.amazonaws.com/Prod/sdk-management/api';function _0x2ad342(){return _0x2710ac(this,null,function*(){var _0x413b59=_0x514e;try{let _0x4db5ab=yield self[_0x413b59(0x1d3)][_0x413b59(0x1ee)][_0x413b59(0x214)]();_0x4db5ab?(yield _0x4db5ab['unsubscribe'](),_0x3ca92c(0x1,'Unsubscribed\x20successfully')):_0x3ca92c(0x1,_0x413b59(0x1ec));}catch(_0x4c08b4){_0x3ca92c(0x2,(_0x4c08b4==null?void 0x0:_0x4c08b4[_0x413b59(0x1f8)])||_0x413b59(0x1ed));}});}function _0x2dfa02(_0x1560d5){return _0x2710ac(this,null,function*(){var _0x26154d=_0x514e;try{if(_0x3ca92c(0x1,_0x26154d(0x1e5)),yield self[_0x26154d(0x1d3)][_0x26154d(0x1ee)][_0x26154d(0x214)]()){_0x3ca92c(0x1,_0x26154d(0x20b));let _0x58b4cf=yield(yield fetch(_0x1835e6+_0x26154d(0x211),{'headers':{'Authorization':_0x26154d(0x1e2),'Content-Type':_0x26154d(0x1f6)},'method':_0x26154d(0x1c6)}))['json']();return yield _0x2ad342(),self[_0x26154d(0x1d3)]['pushManager'][_0x26154d(0x1ef)]({'applicationServerKey':_0x58b4cf[_0x26154d(0x217)],'userVisibleOnly':!0x0})['then'](_0x1730d7=>fetch(_0x1835e6+'/device/add-device-token',{'body':JSON[_0x26154d(0x1fe)]({'device_id':_0x1560d5,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x26154d(0x1df)](JSON['stringify'](_0x1730d7))}}),'headers':{'Authorization':_0x26154d(0x1e2),'Content-Type':'application/json'},'method':_0x26154d(0x1dc)}))[_0x26154d(0x1d6)](_0x5bf671=>{var _0x17f54b=_0x26154d;_0x3ca92c(0x2,(_0x5bf671==null?void 0x0:_0x5bf671[_0x17f54b(0x1f8)])||'Error\x20in\x20activate\x20event');});}}catch(_0xf80d57){_0x3ca92c(0x2,(_0xf80d57==null?void 0x0:_0xf80d57[_0x26154d(0x1f8)])||_0x26154d(0x203));}return{};});}var _0x3ca92c=(_0xfdbc5d,_0x1427c1)=>_0x2710ac(void 0x0,null,function*(){var _0x380b56=_0x959ccf;try{if(!_0x9a15f4)return;_0x9a15f4<=0x3&&(_0xfdbc5d===0x1?console[_0x380b56(0x208)](_0x380b56(0x20e)+new Date()['toISOString'](),_0x1427c1):_0xfdbc5d===0x2&&console['error'](_0x380b56(0x1e6)+new Date()[_0x380b56(0x1c8)](),_0x1427c1));}catch(_0x2f32f3){console[_0x380b56(0x1dd)]((_0x2f32f3==null?void 0x0:_0x2f32f3['message'])||_0x380b56(0x1f7));}}),_0x370d47=_0x541306=>!_0x541306['startsWith'](_0x959ccf(0x1eb))&&!_0x541306[_0x959ccf(0x1e0)](_0x959ccf(0x207))?_0x959ccf(0x1eb)+_0x541306:_0x541306,_0x46443b=_0x1a4c78=>_0x2710ac(void 0x0,[_0x1a4c78],function*({campaignCustomerInstanceId:_0x13f5f5,customerId:_0x293f1a,error:_0x55c293,eventId:_0x8acdf7,name:_0x28c63e}){var _0x4d2d3e=_0x959ccf;try{let _0xe3d9d7={'customerId':_0x293f1a,'events':[_0xe7f1fd(_0x26f07b({'campaignCustomerInstanceId':_0x13f5f5,'eventId':_0x8acdf7,'eventProperties':[]},_0x28c63e?{'name':_0x28c63e}:{}),{'sessionId':'abcd'})]};try{fetch(_0x1835e6+_0x4d2d3e(0x1f9),{'body':JSON[_0x4d2d3e(0x1fe)](_0xe3d9d7),'headers':{'Authorization':_0x4d2d3e(0x1e2),'Content-Type':_0x4d2d3e(0x1f6)},'method':'POST'});}catch(_0x11c26c){_0x3ca92c(0x2,(_0x11c26c==null?void 0x0:_0x11c26c[_0x4d2d3e(0x1f8)])||_0x4d2d3e(0x20a));}_0x3ca92c(0x1,'Recording\x20event:'),_0x3ca92c(0x1,_0xe3d9d7);}catch(_0x462727){_0x3ca92c(0x2,(_0x462727==null?void 0x0:_0x462727[_0x4d2d3e(0x1f8)])||_0x4d2d3e(0x20a));}});self[_0x959ccf(0x1cf)]('message',_0x141040=>_0x2710ac(void 0x0,null,function*(){var _0x17f856=_0x959ccf;try{let _0x396224=_0x141040[_0x17f856(0x217)]?JSON[_0x17f856(0x1df)](_0x141040[_0x17f856(0x217)]):null;_0x396224[_0x17f856(0x215)]&&(_0x9a15f4=_0x396224['debugLevel']),_0x396224[_0x17f856(0x201)]&&(_0x441d03=_0x396224[_0x17f856(0x201)]);}catch(_0x3986e5){console[_0x17f856(0x1dd)](_0x17f856(0x1d1),_0x3986e5);}})),self[_0x959ccf(0x1cf)](_0x959ccf(0x1cb),function(_0x18e4a1){return _0x2710ac(this,null,function*(){var _0x3529e7=_0x514e;try{if(_0x18e4a1[_0x3529e7(0x217)]){let _0x4912bc=_0x18e4a1['data'][_0x3529e7(0x20f)]();_0x3ca92c(0x1,_0x3529e7(0x1da)),_0x3ca92c(0x1,_0x4912bc),_0x18e4a1['waitUntil'](self[_0x3529e7(0x1d3)]['showNotification'](_0x4912bc[_0x3529e7(0x1f4)],_0x4912bc[_0x3529e7(0x1d0)])),yield _0x46443b({'campaignCustomerInstanceId':_0x4912bc[_0x3529e7(0x1d0)]['data'][_0x3529e7(0x1d7)]||'','customerId':''+_0x4912bc[_0x3529e7(0x1d0)][_0x3529e7(0x217)]['customerId'],'eventId':0x1b6,'name':_0x3529e7(0x1c4)}),yield _0x2dfa02(_0x4912bc['options'][_0x3529e7(0x217)]['deviceId']);}}catch(_0x5e172f){_0x3ca92c(0x2,(_0x5e172f==null?void 0x0:_0x5e172f[_0x3529e7(0x1f8)])||_0x3529e7(0x1ff));}});}),self[_0x959ccf(0x1cf)](_0x959ccf(0x206),function(_0x1d48d4){return _0x2710ac(this,null,function*(){var _0x395986=_0x514e,_0x8b0160;try{if(_0x3ca92c(0x1,_0x395986(0x200)),_0x3ca92c(0x1,(_0x8b0160=_0x1d48d4==null?void 0x0:_0x1d48d4['notification'])==null?void 0x0:_0x8b0160[_0x395986(0x217)]),_0x1d48d4[_0x395986(0x216)][_0x395986(0x1d8)](),_0x1d48d4[_0x395986(0x1d4)]!=='action1'){if(_0x1d48d4[_0x395986(0x1d4)]!==_0x395986(0x218)){let _0x3654c3=_0x1d48d4[_0x395986(0x216)]['data'][_0x395986(0x202)];_0x1d48d4[_0x395986(0x212)](clients[_0x395986(0x1de)]({'includeUncontrolled':!0x0,'type':_0x395986(0x1d5)})[_0x395986(0x1c9)](function(_0x57f1ea){var _0x8fd9e5=_0x395986;let _0x14ebea=null;for(let _0x58e7ee=0x0;_0x58e7ee<_0x57f1ea[_0x8fd9e5(0x1f2)];_0x58e7ee++){let _0x443dfa=_0x57f1ea[_0x58e7ee];if(_0x443dfa[_0x8fd9e5(0x202)]===_0x3654c3){_0x14ebea=_0x443dfa;break;}}return _0x14ebea?_0x14ebea[_0x8fd9e5(0x1fb)]():clients[_0x8fd9e5(0x1db)](_0x370d47(_0x3654c3));})),_0x46443b({'campaignCustomerInstanceId':_0x1d48d4[_0x395986(0x216)]['data'][_0x395986(0x1d7)]||'','customerId':_0x1d48d4[_0x395986(0x216)][_0x395986(0x217)]['customerId'],'eventId':0x1b7,'name':_0x395986(0x1e7)});}}}catch(_0x2da1b3){_0x3ca92c(0x2,(_0x2da1b3==null?void 0x0:_0x2da1b3[_0x395986(0x1f8)])||_0x395986(0x1c7));}});}),self['addEventListener']('notificationclose',function(_0x25ca0e){return _0x2710ac(this,null,function*(){var _0x2e0d97=_0x514e,_0x405b00;try{_0x3ca92c(0x1,_0x2e0d97(0x1ca)),_0x3ca92c(0x1,(_0x405b00=_0x25ca0e==null?void 0x0:_0x25ca0e[_0x2e0d97(0x216)])==null?void 0x0:_0x405b00[_0x2e0d97(0x217)]),_0x46443b({'campaignCustomerInstanceId':_0x25ca0e[_0x2e0d97(0x216)][_0x2e0d97(0x217)][_0x2e0d97(0x1d7)]||'','customerId':_0x25ca0e[_0x2e0d97(0x216)][_0x2e0d97(0x217)]['customerId'],'eventId':0x1b9,'name':'close'});}catch(_0x340702){_0x3ca92c(0x2,(_0x340702==null?void 0x0:_0x340702[_0x2e0d97(0x1f8)])||_0x2e0d97(0x1c5));}});}),self[_0x959ccf(0x1cf)]('install',function(_0x40196b){var _0xb79781=_0x959ccf;_0x40196b[_0xb79781(0x212)](self[_0xb79781(0x219)]());}),self[_0x959ccf(0x1cf)](_0x959ccf(0x1f5),_0x51b17c=>_0x2710ac(void 0x0,null,function*(){var _0x1e3a3b=_0x959ccf;if(_0x3ca92c(0x1,_0x1e3a3b(0x210)+JSON[_0x1e3a3b(0x1fe)](_0x51b17c)),!_0x441d03)return;let _0x15d96d=self['registration'][_0x1e3a3b(0x1ee)][_0x1e3a3b(0x1ef)](_0x51b17c['oldSubscription'][_0x1e3a3b(0x1d0)])['then'](_0x4dbd6c=>fetch(_0x1835e6+_0x1e3a3b(0x1e8),{'body':JSON[_0x1e3a3b(0x1fe)]({'device_id':_0x441d03,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':JSON[_0x1e3a3b(0x1df)](JSON[_0x1e3a3b(0x1fe)](_0x4dbd6c))}),'headers':{'Authorization':_0x1e3a3b(0x1e2),'Content-Type':_0x1e3a3b(0x1f6)},'method':_0x1e3a3b(0x20d)}));_0x51b17c[_0x1e3a3b(0x212)](_0x15d96d);}),!0x1);})());