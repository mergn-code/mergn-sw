'use strict';function _0x4c31(_0x29c4a9,_0x272fc5){var _0x10c494=_0x10c4();return _0x4c31=function(_0x4c31ce,_0x3c2e58){_0x4c31ce=_0x4c31ce-0xf7;var _0x20431b=_0x10c494[_0x4c31ce];return _0x20431b;},_0x4c31(_0x29c4a9,_0x272fc5);}(function(_0x3a9d43,_0x44d905){var _0x3490a9=_0x4c31,_0x2421df=_0x3a9d43();while(!![]){try{var _0x57c8ec=-parseInt(_0x3490a9(0x147))/0x1+-parseInt(_0x3490a9(0x135))/0x2*(-parseInt(_0x3490a9(0x149))/0x3)+-parseInt(_0x3490a9(0x13e))/0x4+parseInt(_0x3490a9(0x121))/0x5+-parseInt(_0x3490a9(0xfd))/0x6*(-parseInt(_0x3490a9(0x133))/0x7)+parseInt(_0x3490a9(0x127))/0x8+-parseInt(_0x3490a9(0x108))/0x9*(parseInt(_0x3490a9(0x14a))/0xa);if(_0x57c8ec===_0x44d905)break;else _0x2421df['push'](_0x2421df['shift']());}catch(_0x406887){_0x2421df['push'](_0x2421df['shift']());}}}(_0x10c4,0x9b710));function _0x10c4(){var _0x2434ee=['matchAll','getOwnPropertyDescriptors','INFO:\x20','propertyIsEnumerable','startsWith','Error\x20in\x20notification\x20click\x20event','match','getOwnPropertySymbols','754587yMFupm','addEventListener','prototype','registration','defineProperty','url','Updating\x20subscription\x20details','Error\x20in\x20activate\x20event','pushsubscriptionchange','Error\x20in\x20notification\x20close\x20event','Error\x20in\x20recording\x20event','notificationclick','/device/add-device-token','then','waitUntil','https://','message','parse','data','ERROR:\x20','notification','options','openWindow','Error\x20in\x20push\x20event','click','637815DFDlxQ','Existing\x20subscription\x20found','abcd','/v2/event/record-event','Push\x20event\x20data\x20received:','Notification\x20click\x20event\x20received:','3383976MmAZkT','Error\x20processing\x20event:','customerId','action2','Error\x20in\x20logging\x20debug','Push\x20subscription\x20change\x20event\x20received:\x20','campaignCustomerInstanceId','stringify','info','POST','Recording\x20event:','close','1403206pSbcDq','application/json','10dxIlku','oldSubscription','json','call','Device\x20ID\x20stored','notificationclose','452ead4a69d5afc8d453d8157fdf9de9m67rgn1223aa6107e4bddf7747905100758d0c','http://','error','1853516HFshrR','title','next','push','pushManager','install','focus','Notification\x20close\x20event\x20received','toISOString','756488VTKinP','open','112254quNTCi','10fqgxyZ','skipWaiting','done','/brand/get-web-push-public-key','action1','apply','action','device_id','subscribe','hasOwnProperty','36xBblNR','value','text'];_0x10c4=function(){return _0x2434ee;};return _0x10c4();}((()=>{var _0x1f51c6=_0x4c31,_0x3e50a1=Object[_0x1f51c6(0x10c)],_0x546c64=Object['defineProperties'],_0x4b923c=Object[_0x1f51c6(0x101)],_0x553f05=Object[_0x1f51c6(0x107)],_0x32d435=Object['prototype'][_0x1f51c6(0xfc)],_0x456011=Object[_0x1f51c6(0x10a)][_0x1f51c6(0x103)],_0x4b17ab=(_0x3b7f2d,_0x1fb0bd,_0x379bc8)=>_0x1fb0bd in _0x3b7f2d?_0x3e50a1(_0x3b7f2d,_0x1fb0bd,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x379bc8}):_0x3b7f2d[_0x1fb0bd]=_0x379bc8,_0xf0d021=(_0x1bcfb6,_0x2c9c29)=>{var _0x81cffb=_0x1f51c6;for(var _0x5cce01 in _0x2c9c29||(_0x2c9c29={}))_0x32d435['call'](_0x2c9c29,_0x5cce01)&&_0x4b17ab(_0x1bcfb6,_0x5cce01,_0x2c9c29[_0x5cce01]);if(_0x553f05){for(var _0x5cce01 of _0x553f05(_0x2c9c29))_0x456011[_0x81cffb(0x138)](_0x2c9c29,_0x5cce01)&&_0x4b17ab(_0x1bcfb6,_0x5cce01,_0x2c9c29[_0x5cce01]);}return _0x1bcfb6;},_0x20f8d8=(_0x2b2fb9,_0x229c61)=>_0x546c64(_0x2b2fb9,_0x4b923c(_0x229c61)),_0x21f341=(_0x44a8a3,_0x135208,_0x4c3e0e)=>new Promise((_0x9faa38,_0x1bfee1)=>{var _0x3798af=_0x1f51c6,_0xa15f13=_0x594623=>{var _0xa199fc=_0x4c31;try{_0x2a6854(_0x4c3e0e[_0xa199fc(0x140)](_0x594623));}catch(_0x1db276){_0x1bfee1(_0x1db276);}},_0x17361c=_0x3d4f92=>{try{_0x2a6854(_0x4c3e0e['throw'](_0x3d4f92));}catch(_0x4ef91d){_0x1bfee1(_0x4ef91d);}},_0x2a6854=_0x1e2cd6=>_0x1e2cd6[_0x3798af(0x14c)]?_0x9faa38(_0x1e2cd6[_0x3798af(0xfe)]):Promise['resolve'](_0x1e2cd6[_0x3798af(0xfe)])[_0x3798af(0x115)](_0xa15f13,_0x17361c);_0x2a6854((_0x4c3e0e=_0x4c3e0e[_0x3798af(0xf8)](_0x44a8a3,_0x135208))[_0x3798af(0x140)]());}),_0x486478,_0x3dc3f9='device-id-cache',_0x392cea='device_id',_0x1e217a='https://u23z4zsda8.execute-api.ap-southeast-1.amazonaws.com/Prod/sdk-management/api';function _0x16ace8(_0xc8a0e5){return _0x21f341(this,null,function*(){var _0x2f2298=_0x4c31;let _0x2955c1=yield caches[_0x2f2298(0x148)](_0x3dc3f9),_0x25b00f=new Response(_0xc8a0e5);yield _0x2955c1['put'](_0x392cea,_0x25b00f);});}function _0xbe9555(){return _0x21f341(this,null,function*(){var _0x2e0510=_0x4c31;let _0x4ae176=yield(yield caches[_0x2e0510(0x148)](_0x3dc3f9))[_0x2e0510(0x106)](_0x392cea);return _0x4ae176?yield _0x4ae176[_0x2e0510(0xff)]():null;});}function _0x18f7b9(){return _0x21f341(this,null,function*(){var _0x2e25b6=_0x4c31;try{if(_0x487e6e(0x1,_0x2e25b6(0x10e)),yield self['registration'][_0x2e25b6(0x142)]['getSubscription']()){let _0x2ecf00=(yield _0xbe9555())||'';_0x487e6e(0x1,_0x2e25b6(0x122));let _0xfcbac7=yield(yield fetch(_0x1e217a+_0x2e25b6(0x14d),{'headers':{'Authorization':_0x2e25b6(0x13b),'Content-Type':_0x2e25b6(0x134)},'method':'GET'}))[_0x2e25b6(0x137)]();return self['registration']['pushManager'][_0x2e25b6(0xfb)]({'applicationServerKey':_0xfcbac7[_0x2e25b6(0x11a)],'userVisibleOnly':!0x0})['then'](_0x517f66=>fetch(_0x1e217a+_0x2e25b6(0x114),{'body':JSON[_0x2e25b6(0x12e)]({'device_id':_0x2ecf00,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':JSON['parse'](JSON[_0x2e25b6(0x12e)](_0x517f66))}),'headers':{'Authorization':_0x2e25b6(0x13b),'Content-Type':_0x2e25b6(0x134)},'method':'PUT'}));}}catch(_0x537363){_0x487e6e(0x2,(_0x537363==null?void 0x0:_0x537363['message'])||_0x2e25b6(0x10f));}return{};});}var _0x487e6e=(_0x173a2f,_0x286761)=>_0x21f341(void 0x0,null,function*(){var _0x22a5de=_0x1f51c6;try{if(!_0x486478)return;_0x486478<=0x3&&(_0x173a2f===0x1?console[_0x22a5de(0x12f)](_0x22a5de(0x102)+new Date()[_0x22a5de(0x146)](),_0x286761):_0x173a2f===0x2&&console[_0x22a5de(0x13d)](_0x22a5de(0x11b)+new Date()[_0x22a5de(0x146)](),_0x286761));}catch(_0x590964){console[_0x22a5de(0x13d)]((_0x590964==null?void 0x0:_0x590964[_0x22a5de(0x118)])||_0x22a5de(0x12b));}}),_0x50f8bd=_0x48ca21=>!_0x48ca21[_0x1f51c6(0x104)](_0x1f51c6(0x13c))&&!_0x48ca21[_0x1f51c6(0x104)](_0x1f51c6(0x117))?'http://'+_0x48ca21:_0x48ca21,_0xf5d55f=_0x6e266=>_0x21f341(void 0x0,[_0x6e266],function*({campaignCustomerInstanceId:_0x3d1b6d,customerId:_0x5b8c7e,error:_0x42c037,eventId:_0x3b6906,name:_0x23eeb3}){var _0x4fd845=_0x1f51c6;try{let _0x31ab1e={'customerId':_0x5b8c7e,'events':[_0x20f8d8(_0xf0d021({'campaignCustomerInstanceId':_0x3d1b6d,'eventId':_0x3b6906,'eventProperties':[]},_0x23eeb3?{'name':_0x23eeb3}:{}),{'sessionId':_0x4fd845(0x123)})]};try{fetch(_0x1e217a+_0x4fd845(0x124),{'body':JSON[_0x4fd845(0x12e)](_0x31ab1e),'headers':{'Authorization':_0x4fd845(0x13b),'Content-Type':_0x4fd845(0x134)},'method':_0x4fd845(0x130)});}catch(_0x3e4699){_0x487e6e(0x2,(_0x3e4699==null?void 0x0:_0x3e4699['message'])||'Error\x20in\x20recording\x20event');}_0x487e6e(0x1,_0x4fd845(0x131)),_0x487e6e(0x1,_0x31ab1e);}catch(_0x5b2f60){_0x487e6e(0x2,(_0x5b2f60==null?void 0x0:_0x5b2f60[_0x4fd845(0x118)])||_0x4fd845(0x112));}});self['addEventListener']('message',_0x48e525=>_0x21f341(void 0x0,null,function*(){var _0x47fee6=_0x1f51c6;try{let _0x4c302c=_0x48e525[_0x47fee6(0x11a)]?JSON[_0x47fee6(0x119)](_0x48e525[_0x47fee6(0x11a)]):null;_0x4c302c['debugLevel']&&(_0x486478=_0x4c302c['debugLevel']),_0x4c302c['device_id']&&(yield _0x16ace8(_0x4c302c[_0x47fee6(0xfa)]),_0x487e6e(0x1,_0x47fee6(0x139)));}catch(_0x5ee61a){console['error'](_0x47fee6(0x128),_0x5ee61a);}})),self['addEventListener'](_0x1f51c6(0x141),function(_0x4d6866){return _0x21f341(this,null,function*(){var _0x50f285=_0x4c31;try{if(_0x4d6866[_0x50f285(0x11a)]){let _0x210fc4=_0x4d6866[_0x50f285(0x11a)][_0x50f285(0x137)]();_0x487e6e(0x1,_0x50f285(0x125)),_0x487e6e(0x1,_0x210fc4),_0x4d6866[_0x50f285(0x116)](self[_0x50f285(0x10b)]['showNotification'](_0x210fc4[_0x50f285(0x13f)],_0x210fc4[_0x50f285(0x11d)])),yield _0xf5d55f({'campaignCustomerInstanceId':_0x210fc4[_0x50f285(0x11d)][_0x50f285(0x11a)][_0x50f285(0x12d)]||'','customerId':_0x210fc4['options'][_0x50f285(0x11a)][_0x50f285(0x129)],'eventId':0x1b6,'name':'view'}),yield _0x18f7b9();}}catch(_0x2e15f2){_0x487e6e(0x2,(_0x2e15f2==null?void 0x0:_0x2e15f2[_0x50f285(0x118)])||_0x50f285(0x11f));}});}),self[_0x1f51c6(0x109)](_0x1f51c6(0x113),function(_0x4d999d){return _0x21f341(this,null,function*(){var _0x12b27b=_0x4c31,_0x5824a2;try{if(_0x487e6e(0x1,_0x12b27b(0x126)),_0x487e6e(0x1,(_0x5824a2=_0x4d999d==null?void 0x0:_0x4d999d['notification'])==null?void 0x0:_0x5824a2[_0x12b27b(0x11a)]),_0x4d999d[_0x12b27b(0x11c)][_0x12b27b(0x132)](),_0x4d999d[_0x12b27b(0xf9)]!==_0x12b27b(0xf7)){if(_0x4d999d[_0x12b27b(0xf9)]!==_0x12b27b(0x12a)){let _0x4f7b09=_0x4d999d[_0x12b27b(0x11c)][_0x12b27b(0x11a)]['url'];_0x4d999d['waitUntil'](clients[_0x12b27b(0x100)]({'includeUncontrolled':!0x0,'type':'window'})[_0x12b27b(0x115)](function(_0x58d2e5){var _0x50e214=_0x12b27b;let _0x95e6fd=null;for(let _0x10eec0=0x0;_0x10eec0<_0x58d2e5['length'];_0x10eec0++){let _0xab8592=_0x58d2e5[_0x10eec0];if(_0xab8592[_0x50e214(0x10d)]===_0x4f7b09){_0x95e6fd=_0xab8592;break;}}return _0x95e6fd?_0x95e6fd[_0x50e214(0x144)]():clients[_0x50e214(0x11e)](_0x50f8bd(_0x4f7b09));})),_0xf5d55f({'campaignCustomerInstanceId':_0x4d999d[_0x12b27b(0x11c)][_0x12b27b(0x11a)][_0x12b27b(0x12d)]||'','customerId':_0x4d999d[_0x12b27b(0x11c)][_0x12b27b(0x11a)][_0x12b27b(0x129)],'eventId':0x1b7,'name':_0x12b27b(0x120)});}}}catch(_0x2761c4){_0x487e6e(0x2,(_0x2761c4==null?void 0x0:_0x2761c4['message'])||_0x12b27b(0x105));}});}),self[_0x1f51c6(0x109)](_0x1f51c6(0x13a),function(_0x2ec898){return _0x21f341(this,null,function*(){var _0x4bda4d=_0x4c31,_0x9ef4d0;try{_0x487e6e(0x1,_0x4bda4d(0x145)),_0x487e6e(0x1,(_0x9ef4d0=_0x2ec898==null?void 0x0:_0x2ec898[_0x4bda4d(0x11c)])==null?void 0x0:_0x9ef4d0[_0x4bda4d(0x11a)]),_0xf5d55f({'campaignCustomerInstanceId':_0x2ec898[_0x4bda4d(0x11c)][_0x4bda4d(0x11a)]['campaignCustomerInstanceId']||'','customerId':_0x2ec898['notification'][_0x4bda4d(0x11a)]['customerId'],'eventId':0x1b9,'name':_0x4bda4d(0x132)});}catch(_0x43c959){_0x487e6e(0x2,(_0x43c959==null?void 0x0:_0x43c959[_0x4bda4d(0x118)])||_0x4bda4d(0x111));}});}),self[_0x1f51c6(0x109)](_0x1f51c6(0x143),function(_0x3609ee){var _0x4b9e5b=_0x1f51c6;_0x3609ee[_0x4b9e5b(0x116)](self[_0x4b9e5b(0x14b)]());}),self[_0x1f51c6(0x109)](_0x1f51c6(0x110),_0x40a2a3=>_0x21f341(void 0x0,null,function*(){var _0x170ba3=_0x1f51c6;_0x487e6e(0x1,_0x170ba3(0x12c)+JSON['stringify'](_0x40a2a3));let _0x548beb=yield _0xbe9555(),_0x1e7633=self[_0x170ba3(0x10b)][_0x170ba3(0x142)][_0x170ba3(0xfb)](_0x40a2a3[_0x170ba3(0x136)][_0x170ba3(0x11d)])['then'](_0x3f9363=>fetch(_0x1e217a+_0x170ba3(0x114),{'body':JSON[_0x170ba3(0x12e)]({'device_id':_0x548beb,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':JSON[_0x170ba3(0x119)](JSON['stringify'](_0x3f9363))}),'headers':{'Authorization':_0x170ba3(0x13b),'Content-Type':'application/json'},'method':_0x170ba3(0x130)}));_0x40a2a3[_0x170ba3(0x116)](_0x1e7633);}),!0x1);})());