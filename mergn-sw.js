'use strict';(function(_0x2c7244,_0x26483e){const _0x3c643e=_0x14f1,_0x1471fd=_0x2c7244();while(!![]){try{const _0x4c093a=parseInt(_0x3c643e(0xf0))/0x1+parseInt(_0x3c643e(0x103))/0x2*(-parseInt(_0x3c643e(0xc7))/0x3)+-parseInt(_0x3c643e(0xb2))/0x4*(parseInt(_0x3c643e(0xa8))/0x5)+parseInt(_0x3c643e(0xe1))/0x6+parseInt(_0x3c643e(0xfe))/0x7+parseInt(_0x3c643e(0xd3))/0x8*(-parseInt(_0x3c643e(0xb5))/0x9)+-parseInt(_0x3c643e(0xf1))/0xa;if(_0x4c093a===_0x26483e)break;else _0x1471fd['push'](_0x1471fd['shift']());}catch(_0x126759){_0x1471fd['push'](_0x1471fd['shift']());}}}(_0x162a,0x61896));function _0x162a(){const _0x505082=['apply','pushManager','\x20is\x20not\x20valid.','217847earzKT','forEach','image','eventProperty','No\x20subscription\x20found','12voEObd','Error\x20in\x20logging\x20debug','filter','onupgradeneeded','result','subscribe','readwrite','Subscription\x20updated','registration','window','Error\x20in\x20unsubscribing\x20push\x20manager','open','defineProperties','get','showNotification','\x20has\x20invalid\x20eventProperties:\x20','options','prototype','notification','objectStoreNames','campaignCustomerInstanceId','hasOwnProperty','https://','url','Notification\x20click\x20urlToOpen:','Push\x20subscription\x20change\x20event\x20received:\x20','/device/add-device-token','config','skipWaiting','json','then','Web\x20Push\x20Notification\x20Viewed','stringify','5965oUcelQ','call','map','Web\x20Push\x20Notification\x20Clicked','openWindow','Error\x20in\x20notification\x20click\x20event','Message\x20event\x20received:\x20','Web\x20Push\x20Notification\x20Closed','operatingSystem','clone','2020jzvgDw','resolve','action1','1107297dSKUWi','propertyIsEnumerable','message','MergnObjectStore','Error\x20in\x20push\x20event','title','startsWith','unsubscribe','push','focus','PUT','Error\x20in\x20notification\x20close\x20event','error','toISOString','createObjectStore','application/json','throw','granted','25449fgTeDh','next','indexOf','data','string','device_id','matchAll','Final\x20Data','Notification\x20click\x20event\x20received:\x20','actions','value','MyMergnDatabase','8gunlaf','Unsubscribed\x20successfully','customer','Error\x20in\x20message\x20event','oldSubscription','parse','click','contains','Platform','Recording\x20event\x20config:\x20','Error\x20in\x20activate\x20event','info','addEventListener','transaction','4307904xANBkk','Error\x20in\x20updating\x20subscription\x20details','\x20does\x20not\x20have\x20a\x20valid\x20eventProperty.','waitUntil','Event\x20','Error\x20in\x20recording\x20event','GET','events','join','debugLevel','https://api.mergn.com/sdk-management/api','os-version','action','objectStore','operating-system','757682ZtrczD','3308810RzomZu','API_KEY','image-cache','view','onerror','put','close','abcd','done','Recording\x20event:\x20'];_0x162a=function(){return _0x505082;};return _0x162a();}function _0x14f1(_0xffd14,_0x502c4e){const _0x162ad7=_0x162a();return _0x14f1=function(_0x14f13a,_0x26fc93){_0x14f13a=_0x14f13a-0x9d;let _0x383149=_0x162ad7[_0x14f13a];return _0x383149;},_0x14f1(_0xffd14,_0x502c4e);}((()=>{const _0x5b39d2=_0x14f1;var _0xedd6eb=Object['defineProperty'],_0x2c219f=Object[_0x5b39d2(0x10f)],_0x1cfd9a=Object['getOwnPropertyDescriptors'],_0x53934d=Object['getOwnPropertySymbols'],_0x126f25=Object[_0x5b39d2(0x114)]['hasOwnProperty'],_0x3d4eb4=Object['prototype'][_0x5b39d2(0xb6)],_0x1ad01b=(_0x2bf1f3,_0x2b030b,_0xd64f56)=>_0x2b030b in _0x2bf1f3?_0xedd6eb(_0x2bf1f3,_0x2b030b,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0xd64f56}):_0x2bf1f3[_0x2b030b]=_0xd64f56,_0x4b2c24=(_0xff13dd,_0x483c25)=>{const _0x75928f=_0x5b39d2;for(var _0x322b43 in _0x483c25||(_0x483c25={}))_0x126f25[_0x75928f(0xa9)](_0x483c25,_0x322b43)&&_0x1ad01b(_0xff13dd,_0x322b43,_0x483c25[_0x322b43]);if(_0x53934d){for(var _0x322b43 of _0x53934d(_0x483c25))_0x3d4eb4[_0x75928f(0xa9)](_0x483c25,_0x322b43)&&_0x1ad01b(_0xff13dd,_0x322b43,_0x483c25[_0x322b43]);}return _0xff13dd;},_0x2e89f1=(_0x24fbf6,_0x2bacad)=>_0x2c219f(_0x24fbf6,_0x1cfd9a(_0x2bacad)),_0x30e305=(_0x313153,_0xb8a7db)=>{const _0x1c0258=_0x5b39d2;var _0x34e2da={};for(var _0x114631 in _0x313153)_0x126f25[_0x1c0258(0xa9)](_0x313153,_0x114631)&&_0xb8a7db['indexOf'](_0x114631)<0x0&&(_0x34e2da[_0x114631]=_0x313153[_0x114631]);if(_0x313153!=null&&_0x53934d){for(var _0x114631 of _0x53934d(_0x313153))_0xb8a7db[_0x1c0258(0xc9)](_0x114631)<0x0&&_0x3d4eb4[_0x1c0258(0xa9)](_0x313153,_0x114631)&&(_0x34e2da[_0x114631]=_0x313153[_0x114631]);}return _0x34e2da;},_0x50f8f0=(_0xeedc0c,_0x11340c,_0x4715af)=>new Promise((_0x2484ec,_0x1f2bed)=>{const _0x8dc086=_0x5b39d2;var _0x11c6a8=_0x3ee606=>{const _0x7df6da=_0x14f1;try{_0xf8e471(_0x4715af[_0x7df6da(0xc8)](_0x3ee606));}catch(_0x485254){_0x1f2bed(_0x485254);}},_0x2e8638=_0x11466c=>{const _0x2fd189=_0x14f1;try{_0xf8e471(_0x4715af[_0x2fd189(0xc5)](_0x11466c));}catch(_0x96a936){_0x1f2bed(_0x96a936);}},_0xf8e471=_0x63ac6c=>_0x63ac6c[_0x8dc086(0xf9)]?_0x2484ec(_0x63ac6c[_0x8dc086(0xd1)]):Promise[_0x8dc086(0xb3)](_0x63ac6c['value'])[_0x8dc086(0xa5)](_0x11c6a8,_0x2e8638);_0xf8e471((_0x4715af=_0x4715af[_0x8dc086(0xfb)](_0xeedc0c,_0x11340c))[_0x8dc086(0xc8)]());}),_0x4b4859=_0x5b39d2(0xeb),_0x515cff=()=>new Promise((_0x41b8fc,_0x57f9eb)=>{const _0x473758=_0x5b39d2;let _0x2bf161=indexedDB[_0x473758(0x10e)](_0x473758(0xd2),0x1);_0x2bf161[_0x473758(0x106)]=function(){const _0x2778d1=_0x473758;let _0x5294f7=_0x2bf161[_0x2778d1(0x107)];_0x5294f7[_0x2778d1(0x116)][_0x2778d1(0xda)](_0x2778d1(0xb8))||_0x5294f7[_0x2778d1(0xc3)](_0x2778d1(0xb8),{'keyPath':'id'});},_0x2bf161['onsuccess']=()=>_0x41b8fc(_0x2bf161[_0x473758(0x107)]),_0x2bf161[_0x473758(0xf5)]=()=>_0x57f9eb(_0x2bf161[_0x473758(0xc1)]);}),_0xb76ce7=()=>_0x50f8f0(void 0x0,null,function*(){let _0x964a5e=yield _0x515cff();return new Promise((_0x4242fb,_0xa1e85)=>{const _0x13d21f=_0x14f1;let _0x46e19a=_0x964a5e[_0x13d21f(0xe0)](_0x13d21f(0xb8),'readonly')[_0x13d21f(0xee)](_0x13d21f(0xb8))[_0x13d21f(0x110)](_0x13d21f(0xa2));_0x46e19a['onsuccess']=()=>_0x4242fb(_0x46e19a[_0x13d21f(0x107)]),_0x46e19a[_0x13d21f(0xf5)]=()=>_0xa1e85(_0x46e19a[_0x13d21f(0xc1)]);});});function _0x4f0b6a(){return _0x50f8f0(this,null,function*(){const _0x2248fe=_0x14f1;try{let _0x3ccb28=yield self[_0x2248fe(0x10b)]['pushManager']['getSubscription']();_0x3ccb28?(yield _0x3ccb28[_0x2248fe(0xbc)](),_0x17c6e7(0x1,_0x2248fe(0xd4))):_0x17c6e7(0x1,_0x2248fe(0x102));}catch(_0x5941b5){_0x17c6e7(0x2,(_0x5941b5==null?void 0x0:_0x5941b5[_0x2248fe(0xb7)])||_0x2248fe(0x10d));}});}function _0x1775af(){return _0x50f8f0(this,null,function*(){const _0x23fdf5=_0x14f1;try{_0x17c6e7(0x1,'Updating\x20subscription\x20details');let _0x217da4=yield _0xb76ce7(),_0x523a58=yield(yield fetch(_0x4b4859+'/brand/get-web-push-public-key',{'headers':{'Authorization':_0x217da4[_0x23fdf5(0xf2)],'Content-Type':_0x23fdf5(0xc4)},'method':_0x23fdf5(0xe7)}))[_0x23fdf5(0xa4)](),_0x1886c4=yield self[_0x23fdf5(0x10b)]['pushManager']['permissionState']({'applicationServerKey':_0x523a58[_0x23fdf5(0xca)],'userVisibleOnly':!0x0});if(_0x17c6e7(0x1,'Permission\x20state:\x20'+_0x1886c4),_0x1886c4===_0x23fdf5(0xc6))return yield _0x4f0b6a(),self[_0x23fdf5(0x10b)][_0x23fdf5(0xfc)][_0x23fdf5(0x108)]({'applicationServerKey':_0x523a58[_0x23fdf5(0xca)],'userVisibleOnly':!0x0})[_0x23fdf5(0xa5)](_0x553e87=>fetch(_0x4b4859+_0x23fdf5(0xa1),{'body':JSON[_0x23fdf5(0xa7)]({'customer_id':_0x217da4[_0x23fdf5(0xd5)],'device_id':_0x217da4[_0x23fdf5(0xcc)],'device_platform':_0x217da4[_0x23fdf5(0xb0)],'is_web_push_subscribed':!0x0,'os':_0x217da4[_0x23fdf5(0xdb)],'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x23fdf5(0xd8)](JSON[_0x23fdf5(0xa7)](_0x553e87))}}),'headers':{'Authorization':_0x217da4[_0x23fdf5(0xf2)],'Content-Type':_0x23fdf5(0xc4)},'method':_0x23fdf5(0xbf)})[_0x23fdf5(0xa5)](()=>{const _0x1a2565=_0x23fdf5;_0x17c6e7(0x1,_0x1a2565(0x10a));}))['catch'](_0x10b248=>{const _0x4cebff=_0x23fdf5;_0x17c6e7(0x2,(_0x10b248==null?void 0x0:_0x10b248[_0x4cebff(0xb7)])||_0x4cebff(0xe2));});}catch(_0x32092c){_0x17c6e7(0x2,(_0x32092c==null?void 0x0:_0x32092c[_0x23fdf5(0xb7)])||_0x23fdf5(0xdd));}return{};});}var _0x17c6e7=(_0x3367d6,_0x1304f7)=>_0x50f8f0(void 0x0,null,function*(){const _0x2350bd=_0x5b39d2;try{let _0x31ce49=yield _0xb76ce7();if(!_0x31ce49||!_0x31ce49['debugLevel'])return;_0x31ce49[_0x2350bd(0xea)]<=0x3&&(_0x3367d6===0x1?console[_0x2350bd(0xde)]('INFO:\x20'+new Date()['toISOString'](),_0x1304f7):_0x3367d6===0x2&&console[_0x2350bd(0xc1)]('ERROR:\x20'+new Date()[_0x2350bd(0xc2)](),_0x1304f7));}catch(_0x20e250){console[_0x2350bd(0xc1)]((_0x20e250==null?void 0x0:_0x20e250[_0x2350bd(0xb7)])||_0x2350bd(0x104));}}),_0x3f4cd4=_0x50303c=>!_0x50303c['startsWith']('http://')&&!_0x50303c[_0x5b39d2(0xbb)](_0x5b39d2(0x9d))?'http://'+_0x50303c:_0x50303c,_0x17861d=(_0x493946,_0x42db70,_0x147c18)=>{const _0x4b2a55=_0x5b39d2;if(!Object[_0x4b2a55(0x114)][_0x4b2a55(0x118)]['call'](_0x493946,_0x42db70))return _0x4b2a55(0xe5)+_0x42db70+_0x4b2a55(0xfd);if(!_0x147c18)return[];let _0x5ae0dd=_0x493946[_0x42db70];if(!(_0x5ae0dd!=null&&_0x5ae0dd[_0x4b2a55(0x101)]))return _0x4b2a55(0xe5)+_0x42db70+_0x4b2a55(0xe3);let _0x52519c=_0x147c18[_0x4b2a55(0x105)](({eventProperty:_0x453bdf})=>!Object[_0x4b2a55(0x114)][_0x4b2a55(0x118)]['call'](_0x5ae0dd[_0x4b2a55(0x101)],_0x453bdf))[_0x4b2a55(0xaa)](({eventProperty:_0x216caf})=>_0x216caf);return _0x52519c['length']>0x0?'Event\x20'+_0x42db70+_0x4b2a55(0x112)+_0x52519c[_0x4b2a55(0xe9)](',\x20')+'.':_0x147c18['map'](({eventProperty:_0x2b9014,value:_0x35ea52})=>({'eventPropertyId':_0x5ae0dd[_0x4b2a55(0x101)][_0x2b9014]['id'],'value':_0x35ea52}));},_0x540eaa=_0x32f501=>_0x50f8f0(void 0x0,[_0x32f501],function*({campaignCustomerInstanceId:_0x599606,eventName:_0x469b28,eventProperties:_0x4d2340,name:_0x4755b0}){const _0x531c91=_0x5b39d2;var _0x1e0045,_0x5320cb,_0x634cee,_0x2403ce,_0x6ded11,_0x5e6198,_0x5d2883,_0x544ba0,_0x254606,_0xd93cc9;try{_0x17c6e7(0x1,'Recording\x20event:\x20'+_0x469b28);let _0xeb49a3=yield _0xb76ce7(),_0x4eb776=_0x17861d(_0xeb49a3[_0x531c91(0xe8)],_0x469b28,_0x4d2340);if(typeof _0x4eb776==_0x531c91(0xcb)){_0x17c6e7(0x2,_0x4eb776);return;}let _0x5ab447={'customerId':_0xeb49a3[_0x531c91(0xd5)],'events':[_0x2e89f1(_0x4b2c24(_0x2e89f1(_0x4b2c24({},_0x599606?{'campaignCustomerInstanceId':_0x599606}:{}),{'eventId':((_0x1e0045=_0xeb49a3[_0x531c91(0xe8)][_0x469b28])==null?void 0x0:_0x1e0045['id'])||'','eventProperties':[{'eventPropertyId':(_0x2403ce=(_0x634cee=(_0x5320cb=_0xeb49a3[_0x531c91(0xe8)][_0x469b28])==null?void 0x0:_0x5320cb[_0x531c91(0x101)])==null?void 0x0:_0x634cee['Platform'])==null?void 0x0:_0x2403ce['id'],'value':_0xeb49a3[_0x531c91(0xdb)]},{'eventPropertyId':(_0x5d2883=(_0x5e6198=(_0x6ded11=_0xeb49a3[_0x531c91(0xe8)][_0x469b28])==null?void 0x0:_0x6ded11[_0x531c91(0x101)])==null?void 0x0:_0x5e6198[_0x531c91(0xef)])==null?void 0x0:_0x5d2883['id'],'value':_0xeb49a3[_0x531c91(0xb0)]},{'eventPropertyId':(_0xd93cc9=(_0x254606=(_0x544ba0=_0xeb49a3[_0x531c91(0xe8)][_0x469b28])==null?void 0x0:_0x544ba0['eventProperty'])==null?void 0x0:_0x254606[_0x531c91(0xec)])==null?void 0x0:_0xd93cc9['id'],'value':_0xeb49a3['osVersion']},..._0x4eb776]}),_0x4755b0?{'name':_0x4755b0}:{}),{'sessionId':_0x531c91(0xf8)})]};try{yield fetch(_0x4b4859+'/v2/event/record-event',{'body':JSON['stringify'](_0x5ab447),'headers':{'Authorization':_0xeb49a3[_0x531c91(0xf2)],'Content-Type':'application/json'},'method':'POST'});}catch(_0x4c4783){_0x17c6e7(0x2,(_0x4c4783==null?void 0x0:_0x4c4783['message'])||_0x531c91(0xe6));}let _0x1fd6f5=_0xeb49a3,{API_KEY:_0x46e3e7,events:_0x54399b}=_0x1fd6f5,_0x50f960=_0x30e305(_0x1fd6f5,['API_KEY',_0x531c91(0xe8)]);_0x17c6e7(0x1,_0x531c91(0xdc)+JSON[_0x531c91(0xa7)](_0x50f960)),_0x17c6e7(0x1,_0x531c91(0xfa)+JSON[_0x531c91(0xa7)](_0x5ab447));}catch(_0x1dd967){_0x17c6e7(0x2,(_0x1dd967==null?void 0x0:_0x1dd967[_0x531c91(0xb7)])||'Error\x20in\x20recording\x20event');}});self[_0x5b39d2(0xdf)](_0x5b39d2(0xb7),_0x78de2=>_0x50f8f0(void 0x0,null,function*(){const _0x18d09c=_0x5b39d2;try{let _0x4bf521=yield _0xb76ce7(),_0x57bc5c=_0x78de2[_0x18d09c(0xca)]?JSON['parse'](_0x78de2['data']):null;if(_0x57bc5c){let _0x1b0ac8=(yield _0x515cff())[_0x18d09c(0xe0)](_0x18d09c(0xb8),_0x18d09c(0x109))[_0x18d09c(0xee)]('MergnObjectStore'),_0x8e1373=_0x4b2c24(_0x4b2c24({'id':_0x18d09c(0xa2)},_0x4bf521||{}),_0x57bc5c);_0x1b0ac8[_0x18d09c(0xf6)](_0x8e1373);}if(_0x57bc5c[_0x18d09c(0xe8)]){let _0x56176d=_0x57bc5c,{API_KEY:_0x26acd5,events:_0x2db56f}=_0x56176d,_0x5d423e=_0x30e305(_0x56176d,['API_KEY',_0x18d09c(0xe8)]);_0x17c6e7(0x1,_0x18d09c(0xae)+JSON[_0x18d09c(0xa7)](_0x5d423e));}else _0x17c6e7(0x1,_0x18d09c(0xae)+JSON[_0x18d09c(0xa7)](_0x57bc5c));let _0x5497b3=_0x4bf521,{API_KEY:_0x4c1c4b,events:_0xcb000}=_0x5497b3,_0x3f4353=_0x30e305(_0x5497b3,[_0x18d09c(0xf2),_0x18d09c(0xe8)]);_0x17c6e7(0x1,'Message\x20event\x20config:\x20'+JSON['stringify'](_0x3f4353));}catch(_0x34aa20){_0x17c6e7(0x2,(_0x34aa20==null?void 0x0:_0x34aa20['message'])||_0x18d09c(0xd6));}})),self[_0x5b39d2(0xdf)](_0x5b39d2(0xbd),function(_0x56c14a){const _0x2bc498=_0x5b39d2;_0x56c14a[_0x2bc498(0xe4)](_0x50f8f0(this,null,function*(){const _0x375a82=_0x2bc498;var _0x5d094c,_0x51ea2c;try{let _0x5b4be9=_0x56c14a;if(_0x5b4be9[_0x375a82(0xca)]){let _0x32f4b8=_0x5b4be9[_0x375a82(0xca)][_0x375a82(0xa4)]();_0x17c6e7(0x1,'Push\x20event\x20data\x20received:'),_0x17c6e7(0x1,_0x32f4b8);let _0x3988f3=_0x32f4b8['options'][_0x375a82(0x100)],_0x66618c=_0x3988f3;try{if(_0x3988f3){let _0x3287ba=yield caches[_0x375a82(0x10e)](_0x375a82(0xf3)),_0x3d8e71=yield fetch(_0x3988f3,{'mode':'no-cors'});yield _0x3287ba[_0x375a82(0xf6)](_0x3988f3,_0x3d8e71[_0x375a82(0xb1)]()),_0x66618c=_0x3988f3;}}catch(_0x5c85a7){_0x66618c='',_0x17c6e7(0x2,(_0x5c85a7==null?void 0x0:_0x5c85a7['message'])||'Image\x20prefetch\x20failed');}let _0x502288=_0x4b2c24(_0x4b2c24({},_0x32f4b8[_0x375a82(0x113)]),_0x66618c?{'image':_0x66618c}:{});(_0x51ea2c=(_0x5d094c=_0x502288==null?void 0x0:_0x502288[_0x375a82(0xd0)])==null?void 0x0:_0x5d094c[_0x375a82(0xff)])==null||_0x51ea2c[_0x375a82(0xa9)](_0x5d094c,(_0x3346de,_0x18885e)=>{const _0x372cc0=_0x375a82;_0x3346de['url']=_0x3f4cd4(_0x3346de[_0x372cc0(0xed)]),_0x3346de[_0x372cc0(0xed)]=_0x372cc0(0xed)+(_0x18885e+0x1);}),_0x502288[_0x375a82(0xca)]=_0x2e89f1(_0x4b2c24({},_0x502288[_0x375a82(0xca)]),{'actions':_0x502288[_0x375a82(0xd0)]}),_0x17c6e7(0x1,_0x375a82(0xce)),_0x17c6e7(0x1,_0x502288),yield self[_0x375a82(0x10b)][_0x375a82(0x111)](_0x32f4b8[_0x375a82(0xba)],_0x502288),yield _0x540eaa({'campaignCustomerInstanceId':_0x32f4b8['options'][_0x375a82(0xca)][_0x375a82(0x117)]||'','eventName':_0x375a82(0xa6),'name':_0x375a82(0xf4)}),yield _0x1775af();}}catch(_0x4ec737){_0x17c6e7(0x2,(_0x4ec737==null?void 0x0:_0x4ec737['message'])||_0x375a82(0xb9));}}));}),self['addEventListener']('notificationclick',function(_0x1ffd08){return _0x50f8f0(this,null,function*(){const _0x19c4ab=_0x14f1;var _0x1b4c64;try{_0x17c6e7(0x1,_0x19c4ab(0xcf)+JSON[_0x19c4ab(0xa7)]((_0x1b4c64=_0x1ffd08==null?void 0x0:_0x1ffd08[_0x19c4ab(0x115)])==null?void 0x0:_0x1b4c64[_0x19c4ab(0xca)])),_0x1ffd08[_0x19c4ab(0x115)][_0x19c4ab(0xf7)](),_0x17c6e7(0x1,'Notification\x20click\x20event\x20action:'),_0x17c6e7(0x1,_0x1ffd08[_0x19c4ab(0xed)]);let _0x5f54b2=_0x1ffd08[_0x19c4ab(0x115)]['data'][_0x19c4ab(0x9e)];_0x1ffd08[_0x19c4ab(0xed)]===_0x19c4ab(0xb4)?_0x5f54b2=_0x1ffd08[_0x19c4ab(0x115)][_0x19c4ab(0xca)][_0x19c4ab(0xd0)][0x0][_0x19c4ab(0x9e)]:_0x1ffd08['action']==='action2'?_0x5f54b2=_0x1ffd08['notification'][_0x19c4ab(0xca)][_0x19c4ab(0xd0)][0x1][_0x19c4ab(0x9e)]:_0x5f54b2=_0x1ffd08[_0x19c4ab(0x115)][_0x19c4ab(0xca)][_0x19c4ab(0x9e)],_0x17c6e7(0x1,_0x19c4ab(0x9f)),_0x17c6e7(0x1,_0x5f54b2),_0x1ffd08[_0x19c4ab(0xe4)](clients[_0x19c4ab(0xcd)]({'includeUncontrolled':!0x0,'type':_0x19c4ab(0x10c)})[_0x19c4ab(0xa5)](function(_0x38b673){const _0x41c6e8=_0x19c4ab;let _0x15cf27=null;for(let _0x3e1bf1=0x0;_0x3e1bf1<_0x38b673['length'];_0x3e1bf1++){let _0xff862d=_0x38b673[_0x3e1bf1];if(_0xff862d['url']===_0x5f54b2){_0x15cf27=_0xff862d;break;}}return _0x15cf27?_0x15cf27[_0x41c6e8(0xbe)]():clients[_0x41c6e8(0xac)](_0x3f4cd4(_0x5f54b2));})),_0x540eaa({'campaignCustomerInstanceId':_0x1ffd08[_0x19c4ab(0x115)][_0x19c4ab(0xca)][_0x19c4ab(0x117)]||'','eventName':_0x19c4ab(0xab),'name':_0x19c4ab(0xd9)});}catch(_0x15c6a8){_0x17c6e7(0x2,(_0x15c6a8==null?void 0x0:_0x15c6a8[_0x19c4ab(0xb7)])||_0x19c4ab(0xad));}});}),self[_0x5b39d2(0xdf)]('notificationclose',function(_0xdd287){return _0x50f8f0(this,null,function*(){const _0x448b28=_0x14f1;var _0x263421;try{_0x17c6e7(0x1,'Notification\x20close\x20event\x20received:\x20'+JSON[_0x448b28(0xa7)]((_0x263421=_0xdd287==null?void 0x0:_0xdd287[_0x448b28(0x115)])==null?void 0x0:_0x263421[_0x448b28(0xca)])),_0x540eaa({'campaignCustomerInstanceId':_0xdd287[_0x448b28(0x115)][_0x448b28(0xca)][_0x448b28(0x117)]||'','eventName':_0x448b28(0xaf),'name':_0x448b28(0xf7)});}catch(_0x5963bb){_0x17c6e7(0x2,(_0x5963bb==null?void 0x0:_0x5963bb[_0x448b28(0xb7)])||_0x448b28(0xc0));}});}),self[_0x5b39d2(0xdf)]('install',function(_0x157836){const _0x3971eb=_0x5b39d2;_0x157836[_0x3971eb(0xe4)](self[_0x3971eb(0xa3)]());}),self[_0x5b39d2(0xdf)]('pushsubscriptionchange',_0x364193=>_0x50f8f0(void 0x0,null,function*(){const _0x460cc3=_0x5b39d2;_0x17c6e7(0x1,_0x460cc3(0xa0)+JSON['stringify'](_0x364193));let _0x52a18d=yield _0xb76ce7(),_0x34d0a0=self[_0x460cc3(0x10b)][_0x460cc3(0xfc)]['subscribe'](_0x364193[_0x460cc3(0xd7)]['options'])['then'](_0x3d85ec=>fetch(_0x4b4859+'/device/add-device-token',{'body':JSON['stringify']({'device_id':_0x52a18d['device_id'],'device_platform':_0x52a18d[_0x460cc3(0xb0)],'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON['parse'](JSON[_0x460cc3(0xa7)](_0x3d85ec))}}),'headers':{'Authorization':_0x52a18d['API_KEY'],'Content-Type':_0x460cc3(0xc4)},'method':'PUT'}));_0x364193['waitUntil'](_0x34d0a0);}),!0x1);})());