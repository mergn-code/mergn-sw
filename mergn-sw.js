'use strict';function _0x2959(){const _0x197491=['clone','notification','Message\x20event\x20received:\x20','subscribe','https://api.mergn.com/sdk-management/api','Message\x20event\x20config:\x20','addEventListener','33lcrLHq','join','notificationclose','stringify','json','application/json','onsuccess','6494787wbfNuu','call','granted','os-version','string','osVersion','Recording\x20event:\x20','operating-system','defineProperty','10jFFVjo','readwrite','close','Web\x20Push\x20Notification\x20Clicked','window','MergnObjectStore','open','get','onerror','action','map','\x20is\x20not\x20valid.','startsWith','operatingSystem','device_id','action1','image','showNotification','getOwnPropertyDescriptors','debugLevel','next','notificationclick','hasOwnProperty','matchAll','19578YlbxnM','info','ERROR:\x20','length','Push\x20subscription\x20change\x20event\x20received:\x20','Web\x20Push\x20Notification\x20Closed','readonly','449498LDixOI','/brand/get-web-push-public-key','onupgradeneeded','Platform','value','http://','then','title','prototype','getOwnPropertySymbols','openWindow','registration','options','pushManager','INFO:\x20','data','parse','Event\x20','result','url','/device/add-device-token','config','toISOString','Error\x20in\x20unsubscribing\x20push\x20manager','\x20does\x20not\x20have\x20a\x20valid\x20eventProperty.','9893MdDnUf','customer','message','Error\x20in\x20logging\x20debug','48bLXXuU','apply','46012dMrdth','error','API_KEY','Push\x20event\x20data\x20received:','campaignCustomerInstanceId','GET','6811145wpSnIR','view','Notification\x20click\x20event\x20received:\x20','resolve','Recording\x20event\x20config:\x20','events','Error\x20in\x20message\x20event','POST','Error\x20in\x20recording\x20event','Web\x20Push\x20Notification\x20Viewed','/v2/event/record-event','click','contains','objectStore','focus','MyMergnDatabase','No\x20subscription\x20found','transaction','indexOf','oldSubscription','image-cache','23244ESrkoA','134LuQIHJ','waitUntil','1986fEZCum','Image\x20prefetch\x20failed','createObjectStore','filter','Error\x20in\x20activate\x20event','unsubscribe','Error\x20in\x20notification\x20close\x20event','throw','10225rDOmHl','Unsubscribed\x20successfully','Subscription\x20updated','done','eventProperty'];_0x2959=function(){return _0x197491;};return _0x2959();}function _0x280a(_0x4e0015,_0x97e540){const _0x295938=_0x2959();return _0x280a=function(_0x280a66,_0x5895eb){_0x280a66=_0x280a66-0x11a;let _0x183f58=_0x295938[_0x280a66];return _0x183f58;},_0x280a(_0x4e0015,_0x97e540);}(function(_0x2691f3,_0xb9c73d){const _0x2b1bee=_0x280a,_0x3d401e=_0x2691f3();while(!![]){try{const _0x5e6a07=parseInt(_0x2b1bee(0x176))/0x1*(-parseInt(_0x2b1bee(0x198))/0x2)+-parseInt(_0x2b1bee(0x12e))/0x3*(parseInt(_0x2b1bee(0x17c))/0x4)+-parseInt(_0x2b1bee(0x122))/0x5*(parseInt(_0x2b1bee(0x11a))/0x6)+-parseInt(_0x2b1bee(0x15d))/0x7*(-parseInt(_0x2b1bee(0x17a))/0x8)+-parseInt(_0x2b1bee(0x135))/0x9+-parseInt(_0x2b1bee(0x13e))/0xa*(parseInt(_0x2b1bee(0x182))/0xb)+-parseInt(_0x2b1bee(0x197))/0xc*(-parseInt(_0x2b1bee(0x156))/0xd);if(_0x5e6a07===_0xb9c73d)break;else _0x3d401e['push'](_0x3d401e['shift']());}catch(_0x1bf2b7){_0x3d401e['push'](_0x3d401e['shift']());}}}(_0x2959,0x78ecd));((()=>{const _0x40a3ce=_0x280a;var _0xfa5775=Object[_0x40a3ce(0x13d)],_0xe92a31=Object['defineProperties'],_0x1b49e4=Object[_0x40a3ce(0x150)],_0x1d6c77=Object[_0x40a3ce(0x166)],_0x601b33=Object[_0x40a3ce(0x165)][_0x40a3ce(0x154)],_0x599441=Object['prototype']['propertyIsEnumerable'],_0x38be2f=(_0x2db32f,_0x55e262,_0x59cb19)=>_0x55e262 in _0x2db32f?_0xfa5775(_0x2db32f,_0x55e262,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x59cb19}):_0x2db32f[_0x55e262]=_0x59cb19,_0x17ee4=(_0x33d32e,_0x39d1dd)=>{const _0x599e28=_0x40a3ce;for(var _0x421e45 in _0x39d1dd||(_0x39d1dd={}))_0x601b33[_0x599e28(0x136)](_0x39d1dd,_0x421e45)&&_0x38be2f(_0x33d32e,_0x421e45,_0x39d1dd[_0x421e45]);if(_0x1d6c77){for(var _0x421e45 of _0x1d6c77(_0x39d1dd))_0x599441[_0x599e28(0x136)](_0x39d1dd,_0x421e45)&&_0x38be2f(_0x33d32e,_0x421e45,_0x39d1dd[_0x421e45]);}return _0x33d32e;},_0x3b3c21=(_0x247d69,_0x1854c8)=>_0xe92a31(_0x247d69,_0x1b49e4(_0x1854c8)),_0x5bc767=(_0x4adf40,_0x521b0f)=>{const _0x7c8106=_0x40a3ce;var _0x3c27bf={};for(var _0x647edc in _0x4adf40)_0x601b33[_0x7c8106(0x136)](_0x4adf40,_0x647edc)&&_0x521b0f['indexOf'](_0x647edc)<0x0&&(_0x3c27bf[_0x647edc]=_0x4adf40[_0x647edc]);if(_0x4adf40!=null&&_0x1d6c77){for(var _0x647edc of _0x1d6c77(_0x4adf40))_0x521b0f[_0x7c8106(0x194)](_0x647edc)<0x0&&_0x599441['call'](_0x4adf40,_0x647edc)&&(_0x3c27bf[_0x647edc]=_0x4adf40[_0x647edc]);}return _0x3c27bf;},_0x139474=(_0x4fc52f,_0x3d8dfd,_0x3f3004)=>new Promise((_0x30208c,_0x3f349c)=>{const _0x5bbe8b=_0x40a3ce;var _0x12440a=_0x548bd5=>{const _0x50f61a=_0x280a;try{_0x312dc8(_0x3f3004[_0x50f61a(0x152)](_0x548bd5));}catch(_0x5303de){_0x3f349c(_0x5303de);}},_0x255d65=_0x18e7aa=>{const _0x36575b=_0x280a;try{_0x312dc8(_0x3f3004[_0x36575b(0x121)](_0x18e7aa));}catch(_0x57708f){_0x3f349c(_0x57708f);}},_0x312dc8=_0x45eefd=>_0x45eefd[_0x5bbe8b(0x125)]?_0x30208c(_0x45eefd[_0x5bbe8b(0x161)]):Promise[_0x5bbe8b(0x185)](_0x45eefd[_0x5bbe8b(0x161)])[_0x5bbe8b(0x163)](_0x12440a,_0x255d65);_0x312dc8((_0x3f3004=_0x3f3004[_0x5bbe8b(0x17b)](_0x4fc52f,_0x3d8dfd))['next']());}),_0x44d831=_0x40a3ce(0x12b),_0x1648e7=()=>new Promise((_0x3a3b07,_0x73436a)=>{const _0xfb2e6e=_0x40a3ce;let _0x1f2d9c=indexedDB[_0xfb2e6e(0x144)](_0xfb2e6e(0x191),0x1);_0x1f2d9c[_0xfb2e6e(0x15f)]=function(){const _0x12bb30=_0xfb2e6e;let _0x13dabf=_0x1f2d9c[_0x12bb30(0x16f)];_0x13dabf['objectStoreNames'][_0x12bb30(0x18e)](_0x12bb30(0x143))||_0x13dabf[_0x12bb30(0x11c)]('MergnObjectStore',{'keyPath':'id'});},_0x1f2d9c['onsuccess']=()=>_0x3a3b07(_0x1f2d9c[_0xfb2e6e(0x16f)]),_0x1f2d9c['onerror']=()=>_0x73436a(_0x1f2d9c[_0xfb2e6e(0x17d)]);}),_0x21fe2f=()=>_0x139474(void 0x0,null,function*(){let _0x1dad5f=yield _0x1648e7();return new Promise((_0x4280cb,_0x40ec8f)=>{const _0x1101cc=_0x280a;let _0x41e3a6=_0x1dad5f[_0x1101cc(0x193)](_0x1101cc(0x143),_0x1101cc(0x15c))[_0x1101cc(0x18f)](_0x1101cc(0x143))[_0x1101cc(0x145)](_0x1101cc(0x172));_0x41e3a6[_0x1101cc(0x134)]=()=>_0x4280cb(_0x41e3a6[_0x1101cc(0x16f)]),_0x41e3a6[_0x1101cc(0x146)]=()=>_0x40ec8f(_0x41e3a6[_0x1101cc(0x17d)]);});});function _0x4ea107(){return _0x139474(this,null,function*(){const _0x36c15a=_0x280a;try{let _0x1bb05d=yield self[_0x36c15a(0x168)][_0x36c15a(0x16a)]['getSubscription']();_0x1bb05d?(yield _0x1bb05d[_0x36c15a(0x11f)](),_0x477d0b(0x1,_0x36c15a(0x123))):_0x477d0b(0x1,_0x36c15a(0x192));}catch(_0x5a149b){_0x477d0b(0x2,(_0x5a149b==null?void 0x0:_0x5a149b[_0x36c15a(0x178)])||_0x36c15a(0x174));}});}function _0x15e674(){return _0x139474(this,null,function*(){const _0x19b764=_0x280a;try{_0x477d0b(0x1,'Updating\x20subscription\x20details');let _0x274047=yield _0x21fe2f(),_0x553349=yield(yield fetch(_0x44d831+_0x19b764(0x15e),{'headers':{'Authorization':_0x274047[_0x19b764(0x17e)],'Content-Type':'application/json'},'method':_0x19b764(0x181)}))[_0x19b764(0x132)](),_0x5dddb3=yield self['registration']['pushManager']['permissionState']({'applicationServerKey':_0x553349[_0x19b764(0x16c)],'userVisibleOnly':!0x0});if(_0x477d0b(0x1,'Permission\x20state:\x20'+_0x5dddb3),_0x5dddb3===_0x19b764(0x137))return yield _0x4ea107(),self[_0x19b764(0x168)]['pushManager'][_0x19b764(0x12a)]({'applicationServerKey':_0x553349[_0x19b764(0x16c)],'userVisibleOnly':!0x0})[_0x19b764(0x163)](_0x3251eb=>fetch(_0x44d831+_0x19b764(0x171),{'body':JSON['stringify']({'customer_id':_0x274047[_0x19b764(0x177)],'device_id':_0x274047[_0x19b764(0x14c)],'device_platform':_0x274047[_0x19b764(0x14b)],'is_web_push_subscribed':!0x0,'os':_0x274047[_0x19b764(0x160)],'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x19b764(0x16d)](JSON['stringify'](_0x3251eb))}}),'headers':{'Authorization':_0x274047['API_KEY'],'Content-Type':_0x19b764(0x133)},'method':'PUT'})['then'](()=>{const _0x5049e8=_0x19b764;_0x477d0b(0x1,_0x5049e8(0x124));}))['catch'](_0x1e65b0=>{const _0x896345=_0x19b764;_0x477d0b(0x2,(_0x1e65b0==null?void 0x0:_0x1e65b0[_0x896345(0x178)])||'Error\x20in\x20updating\x20subscription\x20details');});}catch(_0x242855){_0x477d0b(0x2,(_0x242855==null?void 0x0:_0x242855[_0x19b764(0x178)])||_0x19b764(0x11e));}return{};});}var _0x477d0b=(_0x41c386,_0x4c7e2d)=>_0x139474(void 0x0,null,function*(){const _0x23786d=_0x40a3ce;try{let _0x3ba3b9=yield _0x21fe2f();if(!_0x3ba3b9||!_0x3ba3b9[_0x23786d(0x151)])return;_0x3ba3b9['debugLevel']<=0x3&&(_0x41c386===0x1?console[_0x23786d(0x157)](_0x23786d(0x16b)+new Date()['toISOString'](),_0x4c7e2d):_0x41c386===0x2&&console[_0x23786d(0x17d)](_0x23786d(0x158)+new Date()[_0x23786d(0x173)](),_0x4c7e2d));}catch(_0x47ea88){console[_0x23786d(0x17d)]((_0x47ea88==null?void 0x0:_0x47ea88[_0x23786d(0x178)])||_0x23786d(0x179));}}),_0x3a7060=_0x298db5=>!_0x298db5[_0x40a3ce(0x14a)](_0x40a3ce(0x162))&&!_0x298db5[_0x40a3ce(0x14a)]('https://')?_0x40a3ce(0x162)+_0x298db5:_0x298db5,_0x5b173d=(_0x55f6b5,_0x264fdc,_0x4e8859)=>{const _0x1e4e8b=_0x40a3ce;if(!Object[_0x1e4e8b(0x165)][_0x1e4e8b(0x154)][_0x1e4e8b(0x136)](_0x55f6b5,_0x264fdc))return _0x1e4e8b(0x16e)+_0x264fdc+_0x1e4e8b(0x149);if(!_0x4e8859)return[];let _0x89beb7=_0x55f6b5[_0x264fdc];if(!(_0x89beb7!=null&&_0x89beb7[_0x1e4e8b(0x126)]))return _0x1e4e8b(0x16e)+_0x264fdc+_0x1e4e8b(0x175);let _0x4fa895=_0x4e8859[_0x1e4e8b(0x11d)](({eventProperty:_0x4bfb9f})=>!Object['prototype'][_0x1e4e8b(0x154)]['call'](_0x89beb7[_0x1e4e8b(0x126)],_0x4bfb9f))[_0x1e4e8b(0x148)](({eventProperty:_0x460941})=>_0x460941);return _0x4fa895[_0x1e4e8b(0x159)]>0x0?_0x1e4e8b(0x16e)+_0x264fdc+'\x20has\x20invalid\x20eventProperties:\x20'+_0x4fa895[_0x1e4e8b(0x12f)](',\x20')+'.':_0x4e8859['map'](({eventProperty:_0x141285,value:_0x185c3d})=>({'eventPropertyId':_0x89beb7[_0x1e4e8b(0x126)][_0x141285]['id'],'value':_0x185c3d}));},_0x2d2801=_0x52610d=>_0x139474(void 0x0,[_0x52610d],function*({campaignCustomerInstanceId:_0x11e5f0,eventName:_0x9a8b28,eventProperties:_0x292421,name:_0x226bd6}){const _0x524c95=_0x40a3ce;var _0x2ed24e,_0x34ce38,_0x2bd54b,_0x345eeb,_0x28ed68,_0xcf3695,_0x3cb894,_0x5d3fe3,_0x1c1731,_0x4f96e1;try{_0x477d0b(0x1,_0x524c95(0x13b)+_0x9a8b28);let _0x1ce88f=yield _0x21fe2f(),_0x4b6cf1=_0x5b173d(_0x1ce88f['events'],_0x9a8b28,_0x292421);if(typeof _0x4b6cf1==_0x524c95(0x139)){_0x477d0b(0x2,_0x4b6cf1);return;}let _0x59f771={'customerId':_0x1ce88f[_0x524c95(0x177)],'events':[_0x3b3c21(_0x17ee4(_0x3b3c21(_0x17ee4({},_0x11e5f0?{'campaignCustomerInstanceId':_0x11e5f0}:{}),{'eventId':((_0x2ed24e=_0x1ce88f[_0x524c95(0x187)][_0x9a8b28])==null?void 0x0:_0x2ed24e['id'])||'','eventProperties':[{'eventPropertyId':(_0x345eeb=(_0x2bd54b=(_0x34ce38=_0x1ce88f[_0x524c95(0x187)][_0x9a8b28])==null?void 0x0:_0x34ce38[_0x524c95(0x126)])==null?void 0x0:_0x2bd54b[_0x524c95(0x160)])==null?void 0x0:_0x345eeb['id'],'value':_0x1ce88f[_0x524c95(0x160)]},{'eventPropertyId':(_0x3cb894=(_0xcf3695=(_0x28ed68=_0x1ce88f[_0x524c95(0x187)][_0x9a8b28])==null?void 0x0:_0x28ed68[_0x524c95(0x126)])==null?void 0x0:_0xcf3695[_0x524c95(0x13c)])==null?void 0x0:_0x3cb894['id'],'value':_0x1ce88f[_0x524c95(0x14b)]},{'eventPropertyId':(_0x4f96e1=(_0x1c1731=(_0x5d3fe3=_0x1ce88f['events'][_0x9a8b28])==null?void 0x0:_0x5d3fe3[_0x524c95(0x126)])==null?void 0x0:_0x1c1731[_0x524c95(0x138)])==null?void 0x0:_0x4f96e1['id'],'value':_0x1ce88f[_0x524c95(0x13a)]},..._0x4b6cf1]}),_0x226bd6?{'name':_0x226bd6}:{}),{'sessionId':'abcd'})]};try{yield fetch(_0x44d831+_0x524c95(0x18c),{'body':JSON[_0x524c95(0x131)](_0x59f771),'headers':{'Authorization':_0x1ce88f[_0x524c95(0x17e)],'Content-Type':'application/json'},'method':'POST'});}catch(_0x5ad79a){_0x477d0b(0x2,(_0x5ad79a==null?void 0x0:_0x5ad79a['message'])||'Error\x20in\x20recording\x20event');}let _0x3611b8=_0x1ce88f,{API_KEY:_0x1598b2,events:_0x58dc5d}=_0x3611b8,_0xea982d=_0x5bc767(_0x3611b8,[_0x524c95(0x17e),_0x524c95(0x187)]);_0x477d0b(0x1,_0x524c95(0x186)+JSON[_0x524c95(0x131)](_0xea982d)),_0x477d0b(0x1,_0x524c95(0x13b)+JSON['stringify'](_0x59f771));}catch(_0x5c5787){_0x477d0b(0x2,(_0x5c5787==null?void 0x0:_0x5c5787[_0x524c95(0x178)])||_0x524c95(0x18a));}});self[_0x40a3ce(0x12d)](_0x40a3ce(0x178),_0xbed9dd=>_0x139474(void 0x0,null,function*(){const _0x92ccb1=_0x40a3ce;try{let _0x327926=yield _0x21fe2f(),_0x210f6b=_0xbed9dd[_0x92ccb1(0x16c)]?JSON['parse'](_0xbed9dd[_0x92ccb1(0x16c)]):null;if(_0x210f6b){let _0x16a572=(yield _0x1648e7())[_0x92ccb1(0x193)](_0x92ccb1(0x143),_0x92ccb1(0x13f))['objectStore'](_0x92ccb1(0x143)),_0x9ffbeb=_0x17ee4(_0x17ee4({'id':_0x92ccb1(0x172)},_0x327926||{}),_0x210f6b);_0x16a572['put'](_0x9ffbeb);}if(_0x210f6b[_0x92ccb1(0x187)]){let _0x30c3f9=_0x210f6b,{API_KEY:_0x41273c,events:_0x548130}=_0x30c3f9,_0x2330f3=_0x5bc767(_0x30c3f9,[_0x92ccb1(0x17e),_0x92ccb1(0x187)]);_0x477d0b(0x1,_0x92ccb1(0x129)+JSON[_0x92ccb1(0x131)](_0x2330f3));}else _0x477d0b(0x1,_0x92ccb1(0x129)+JSON[_0x92ccb1(0x131)](_0x210f6b));let _0x2172d4=_0x327926,{API_KEY:_0x3e5e10,events:_0x3b49a2}=_0x2172d4,_0x45190c=_0x5bc767(_0x2172d4,[_0x92ccb1(0x17e),_0x92ccb1(0x187)]);_0x477d0b(0x1,_0x92ccb1(0x12c)+JSON[_0x92ccb1(0x131)](_0x45190c));}catch(_0x592204){_0x477d0b(0x2,(_0x592204==null?void 0x0:_0x592204[_0x92ccb1(0x178)])||_0x92ccb1(0x188));}})),self[_0x40a3ce(0x12d)]('push',function(_0x21902a){const _0x41f9e6=_0x40a3ce;_0x21902a[_0x41f9e6(0x199)](_0x139474(this,null,function*(){const _0x4456dd=_0x41f9e6;try{let _0xde9422=_0x21902a;if(_0xde9422['data']){let _0x4fa470=_0xde9422[_0x4456dd(0x16c)]['json']();_0x477d0b(0x1,_0x4456dd(0x17f)),_0x477d0b(0x1,_0x4fa470);let _0x1aafb1=_0x4fa470[_0x4456dd(0x169)][_0x4456dd(0x14e)],_0x37cd11=_0x1aafb1;try{if(_0x1aafb1){let _0x46a123=yield caches[_0x4456dd(0x144)](_0x4456dd(0x196)),_0x50766e=yield fetch(_0x1aafb1,{'mode':'no-cors'});yield _0x46a123['put'](_0x1aafb1,_0x50766e[_0x4456dd(0x127)]()),_0x37cd11=_0x1aafb1;}}catch(_0x977f4f){_0x37cd11='',_0x477d0b(0x2,(_0x977f4f==null?void 0x0:_0x977f4f[_0x4456dd(0x178)])||_0x4456dd(0x11b));}yield self['registration'][_0x4456dd(0x14f)](_0x4fa470[_0x4456dd(0x164)],_0x17ee4(_0x17ee4({},_0x4fa470[_0x4456dd(0x169)]),_0x37cd11?{'image':_0x37cd11}:{})),yield _0x2d2801({'campaignCustomerInstanceId':_0x4fa470[_0x4456dd(0x169)][_0x4456dd(0x16c)][_0x4456dd(0x180)]||'','eventName':_0x4456dd(0x18b),'name':_0x4456dd(0x183)}),yield _0x15e674();}}catch(_0x4f654a){_0x477d0b(0x2,(_0x4f654a==null?void 0x0:_0x4f654a[_0x4456dd(0x178)])||'Error\x20in\x20push\x20event');}}));}),self[_0x40a3ce(0x12d)](_0x40a3ce(0x153),function(_0x181676){return _0x139474(this,null,function*(){const _0x536d0d=_0x280a;var _0x4a3f7d;try{if(_0x477d0b(0x1,_0x536d0d(0x184)+JSON[_0x536d0d(0x131)]((_0x4a3f7d=_0x181676==null?void 0x0:_0x181676[_0x536d0d(0x128)])==null?void 0x0:_0x4a3f7d['data'])),_0x181676[_0x536d0d(0x128)]['close'](),_0x181676[_0x536d0d(0x147)]!==_0x536d0d(0x14d)){if(_0x181676[_0x536d0d(0x147)]!=='action2'){let _0xc8d304=_0x181676[_0x536d0d(0x128)]['data']['url'];_0x181676[_0x536d0d(0x199)](clients[_0x536d0d(0x155)]({'includeUncontrolled':!0x0,'type':_0x536d0d(0x142)})[_0x536d0d(0x163)](function(_0x30e6f6){const _0xe38f19=_0x536d0d;let _0x3733b3=null;for(let _0x314fbf=0x0;_0x314fbf<_0x30e6f6[_0xe38f19(0x159)];_0x314fbf++){let _0x579676=_0x30e6f6[_0x314fbf];if(_0x579676[_0xe38f19(0x170)]===_0xc8d304){_0x3733b3=_0x579676;break;}}return _0x3733b3?_0x3733b3[_0xe38f19(0x190)]():clients[_0xe38f19(0x167)](_0x3a7060(_0xc8d304));})),_0x2d2801({'campaignCustomerInstanceId':_0x181676[_0x536d0d(0x128)][_0x536d0d(0x16c)][_0x536d0d(0x180)]||'','eventName':_0x536d0d(0x141),'name':_0x536d0d(0x18d)});}}}catch(_0x198617){_0x477d0b(0x2,(_0x198617==null?void 0x0:_0x198617[_0x536d0d(0x178)])||'Error\x20in\x20notification\x20click\x20event');}});}),self[_0x40a3ce(0x12d)](_0x40a3ce(0x130),function(_0x5c0c0f){return _0x139474(this,null,function*(){const _0x2d47b8=_0x280a;var _0x379b04;try{_0x477d0b(0x1,'Notification\x20close\x20event\x20received:\x20'+JSON[_0x2d47b8(0x131)]((_0x379b04=_0x5c0c0f==null?void 0x0:_0x5c0c0f[_0x2d47b8(0x128)])==null?void 0x0:_0x379b04['data'])),_0x2d2801({'campaignCustomerInstanceId':_0x5c0c0f[_0x2d47b8(0x128)][_0x2d47b8(0x16c)][_0x2d47b8(0x180)]||'','eventName':_0x2d47b8(0x15b),'name':_0x2d47b8(0x140)});}catch(_0x4d1c4c){_0x477d0b(0x2,(_0x4d1c4c==null?void 0x0:_0x4d1c4c['message'])||_0x2d47b8(0x120));}});}),self['addEventListener']('install',function(_0x2b56b0){const _0x1f7cd6=_0x40a3ce;_0x2b56b0[_0x1f7cd6(0x199)](self['skipWaiting']());}),self[_0x40a3ce(0x12d)]('pushsubscriptionchange',_0x1c400c=>_0x139474(void 0x0,null,function*(){const _0x307e9d=_0x40a3ce;_0x477d0b(0x1,_0x307e9d(0x15a)+JSON['stringify'](_0x1c400c));let _0x46c67b=yield _0x21fe2f(),_0x56bc12=self[_0x307e9d(0x168)]['pushManager']['subscribe'](_0x1c400c[_0x307e9d(0x195)][_0x307e9d(0x169)])['then'](_0x11de65=>fetch(_0x44d831+'/device/add-device-token',{'body':JSON[_0x307e9d(0x131)]({'device_id':_0x46c67b['device_id'],'device_platform':_0x46c67b['operatingSystem'],'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x307e9d(0x16d)](JSON[_0x307e9d(0x131)](_0x11de65))}}),'headers':{'Authorization':_0x46c67b[_0x307e9d(0x17e)],'Content-Type':_0x307e9d(0x133)},'method':_0x307e9d(0x189)}));_0x1c400c[_0x307e9d(0x199)](_0x56bc12);}),!0x1);})());