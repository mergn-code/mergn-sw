'use strict';(function(_0x1cc8eb,_0x32661b){const _0x539111=_0x4808,_0x383456=_0x1cc8eb();while(!![]){try{const _0x4001e0=parseInt(_0x539111(0x1c8))/0x1+-parseInt(_0x539111(0x199))/0x2+parseInt(_0x539111(0x1c5))/0x3+-parseInt(_0x539111(0x192))/0x4+parseInt(_0x539111(0x17f))/0x5+-parseInt(_0x539111(0x17c))/0x6*(-parseInt(_0x539111(0x1b9))/0x7)+parseInt(_0x539111(0x1eb))/0x8;if(_0x4001e0===_0x32661b)break;else _0x383456['push'](_0x383456['shift']());}catch(_0x5ab17e){_0x383456['push'](_0x383456['shift']());}}}(_0x2af3,0xf1419));function _0x4808(_0x2494c8,_0x422775){const _0x2af3a0=_0x2af3();return _0x4808=function(_0x48085e,_0x301827){_0x48085e=_0x48085e-0x17c;let _0x51a3ac=_0x2af3a0[_0x48085e];return _0x51a3ac;},_0x4808(_0x2494c8,_0x422775);}function _0x2af3(){const _0x1f098e=['/brand/get-web-push-public-key','3157210kZsvTO','data','Unsubscribed\x20successfully','MyMergnDatabase','events','Push\x20event\x20data\x20received:\x20','title','Message\x20event\x20config:\x20','getSubscription','window','length','getOwnPropertyDescriptors','PUT','Web\x20Push\x20Notification\x20Closed','startsWith','getOwnPropertySymbols','onerror','next','operatingSystem','waitUntil','propertyIsEnumerable','registration','transaction','call','json','contains','value','objectStore','action','/v2/event/record-event','notificationclick','click','7xbUXZU','result','granted','readwrite','os-version','customer','indexOf','hasOwnProperty','Platform','notification','showNotification','Updating\x20subscription\x20details','3985788lofstS','Error\x20in\x20recording\x20event','action2','827202lBQmCI','objectStoreNames','parse','Recording\x20event\x20config:\x20','oldSubscription','url','close','options','push','abcd','onupgradeneeded','device_id','stringify','Push\x20subscription\x20change\x20event\x20received:\x20','toISOString','campaignCustomerInstanceId','osVersion','createObjectStore','view','Error\x20in\x20push\x20event','onsuccess','error','pushsubscriptionchange','API_KEY','get','ERROR:\x20','action1','POST','operating-system','permissionState','prototype','done','Notification\x20close\x20event\x20received:\x20','pushManager','message','7886184kFHfuW','application/json','3779082YQlzht','notificationclose','https://u23z4zsda8.execute-api.ap-southeast-1.amazonaws.com/Prod/sdk-management/api','329800xnfjtl','Error\x20in\x20notification\x20close\x20event','Subscription\x20updated','config','Message\x20event\x20received:\x20','then','debugLevel','subscribe','Notification\x20click\x20event\x20received:\x20','GET','Error\x20in\x20activate\x20event','http://','Error\x20in\x20notification\x20click\x20event','info','Error\x20in\x20updating\x20subscription\x20details','catch','addEventListener','eventProperty','MergnObjectStore','5082352uJsBUJ','Permission\x20state:\x20','matchAll','skipWaiting','/device/add-device-token','defineProperties'];_0x2af3=function(){return _0x1f098e;};return _0x2af3();}((()=>{const _0x1c4c4b=_0x4808;var _0x423aee=Object['defineProperty'],_0x2c85c5=Object[_0x1c4c4b(0x197)],_0x5430be=Object[_0x1c4c4b(0x1a4)],_0x6d5273=Object[_0x1c4c4b(0x1a8)],_0x531d0a=Object[_0x1c4c4b(0x1e6)][_0x1c4c4b(0x1c0)],_0x3566c0=Object[_0x1c4c4b(0x1e6)][_0x1c4c4b(0x1ad)],_0xe53b2e=(_0x54038e,_0x2a9196,_0x34154f)=>_0x2a9196 in _0x54038e?_0x423aee(_0x54038e,_0x2a9196,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x34154f}):_0x54038e[_0x2a9196]=_0x34154f,_0x3af42d=(_0xf9af83,_0x3c1d23)=>{const _0x4a2f70=_0x1c4c4b;for(var _0x154307 in _0x3c1d23||(_0x3c1d23={}))_0x531d0a[_0x4a2f70(0x1b0)](_0x3c1d23,_0x154307)&&_0xe53b2e(_0xf9af83,_0x154307,_0x3c1d23[_0x154307]);if(_0x6d5273){for(var _0x154307 of _0x6d5273(_0x3c1d23))_0x3566c0[_0x4a2f70(0x1b0)](_0x3c1d23,_0x154307)&&_0xe53b2e(_0xf9af83,_0x154307,_0x3c1d23[_0x154307]);}return _0xf9af83;},_0x12c557=(_0x230ff0,_0x8f7015)=>_0x2c85c5(_0x230ff0,_0x5430be(_0x8f7015)),_0x4824e1=(_0x984309,_0x548167)=>{const _0x20392d=_0x1c4c4b;var _0x2d8024={};for(var _0x5deac1 in _0x984309)_0x531d0a[_0x20392d(0x1b0)](_0x984309,_0x5deac1)&&_0x548167[_0x20392d(0x1bf)](_0x5deac1)<0x0&&(_0x2d8024[_0x5deac1]=_0x984309[_0x5deac1]);if(_0x984309!=null&&_0x6d5273){for(var _0x5deac1 of _0x6d5273(_0x984309))_0x548167['indexOf'](_0x5deac1)<0x0&&_0x3566c0['call'](_0x984309,_0x5deac1)&&(_0x2d8024[_0x5deac1]=_0x984309[_0x5deac1]);}return _0x2d8024;},_0x48ea15=(_0x3b3204,_0x5437e2,_0x510b67)=>new Promise((_0x56c262,_0xe9f5f9)=>{const _0x29905c=_0x1c4c4b;var _0x5b6e9c=_0x31ddf7=>{const _0x168919=_0x4808;try{_0x475669(_0x510b67[_0x168919(0x1aa)](_0x31ddf7));}catch(_0x4378b6){_0xe9f5f9(_0x4378b6);}},_0x15d255=_0x3b7d33=>{try{_0x475669(_0x510b67['throw'](_0x3b7d33));}catch(_0x34519c){_0xe9f5f9(_0x34519c);}},_0x475669=_0x9ab7ea=>_0x9ab7ea[_0x29905c(0x1e7)]?_0x56c262(_0x9ab7ea[_0x29905c(0x1b3)]):Promise['resolve'](_0x9ab7ea[_0x29905c(0x1b3)])['then'](_0x5b6e9c,_0x15d255);_0x475669((_0x510b67=_0x510b67['apply'](_0x3b3204,_0x5437e2))[_0x29905c(0x1aa)]());}),_0x365f8d=_0x1c4c4b(0x17e),_0x13fe26=()=>new Promise((_0x24abbf,_0x3f8ecb)=>{const _0x2ff9ad=_0x1c4c4b;let _0x54b4f=indexedDB['open'](_0x2ff9ad(0x19c),0x1);_0x54b4f[_0x2ff9ad(0x1d2)]=function(){const _0x374e86=_0x2ff9ad;let _0x5c546c=_0x54b4f[_0x374e86(0x1ba)];_0x5c546c[_0x374e86(0x1c9)][_0x374e86(0x1b2)]('MergnObjectStore')||_0x5c546c[_0x374e86(0x1d9)](_0x374e86(0x191),{'keyPath':'id'});},_0x54b4f['onsuccess']=()=>_0x24abbf(_0x54b4f[_0x2ff9ad(0x1ba)]),_0x54b4f[_0x2ff9ad(0x1a9)]=()=>_0x3f8ecb(_0x54b4f[_0x2ff9ad(0x1dd)]);}),_0x19cb66=()=>_0x48ea15(void 0x0,null,function*(){let _0x39b40c=yield _0x13fe26();return new Promise((_0x5ee0cf,_0x4948ca)=>{const _0x283dcb=_0x4808;let _0x2d5aa6=_0x39b40c[_0x283dcb(0x1af)]('MergnObjectStore','readonly')[_0x283dcb(0x1b4)](_0x283dcb(0x191))[_0x283dcb(0x1e0)](_0x283dcb(0x182));_0x2d5aa6[_0x283dcb(0x1dc)]=()=>_0x5ee0cf(_0x2d5aa6[_0x283dcb(0x1ba)]),_0x2d5aa6[_0x283dcb(0x1a9)]=()=>_0x4948ca(_0x2d5aa6['error']);});});function _0x5a7575(){return _0x48ea15(this,null,function*(){const _0x4c2068=_0x4808;try{let _0x3fd57d=yield self['registration'][_0x4c2068(0x1e9)][_0x4c2068(0x1a1)]();_0x3fd57d?(yield _0x3fd57d['unsubscribe'](),_0x28df5e(0x1,_0x4c2068(0x19b))):_0x28df5e(0x1,'No\x20subscription\x20found');}catch(_0x5c4d46){_0x28df5e(0x2,(_0x5c4d46==null?void 0x0:_0x5c4d46[_0x4c2068(0x1ea)])||'Error\x20in\x20unsubscribing\x20push\x20manager');}});}function _0x3af288(){return _0x48ea15(this,null,function*(){const _0x8aa8f6=_0x4808;try{_0x28df5e(0x1,_0x8aa8f6(0x1c4));let _0x160d40=yield _0x19cb66(),_0x4013ce=yield(yield fetch(_0x365f8d+_0x8aa8f6(0x198),{'headers':{'Authorization':_0x160d40[_0x8aa8f6(0x1df)],'Content-Type':_0x8aa8f6(0x1ec)},'method':_0x8aa8f6(0x188)}))[_0x8aa8f6(0x1b1)](),_0x1d3087=yield self['registration'][_0x8aa8f6(0x1e9)][_0x8aa8f6(0x1e5)]({'applicationServerKey':_0x4013ce[_0x8aa8f6(0x19a)],'userVisibleOnly':!0x0});if(_0x28df5e(0x1,_0x8aa8f6(0x193)+_0x1d3087),_0x1d3087===_0x8aa8f6(0x1bb))return yield _0x5a7575(),self[_0x8aa8f6(0x1ae)][_0x8aa8f6(0x1e9)]['subscribe']({'applicationServerKey':_0x4013ce[_0x8aa8f6(0x19a)],'userVisibleOnly':!0x0})['then'](_0x40973b=>fetch(_0x365f8d+'/device/add-device-token',{'body':JSON[_0x8aa8f6(0x1d4)]({'device_id':_0x160d40[_0x8aa8f6(0x1d3)],'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x8aa8f6(0x1ca)](JSON['stringify'](_0x40973b))}}),'headers':{'Authorization':_0x160d40[_0x8aa8f6(0x1df)],'Content-Type':_0x8aa8f6(0x1ec)},'method':_0x8aa8f6(0x1a5)})[_0x8aa8f6(0x184)](()=>{const _0x4e0ff5=_0x8aa8f6;_0x28df5e(0x1,_0x4e0ff5(0x181));}))[_0x8aa8f6(0x18e)](_0x250ee3=>{const _0x2f5763=_0x8aa8f6;_0x28df5e(0x2,(_0x250ee3==null?void 0x0:_0x250ee3[_0x2f5763(0x1ea)])||_0x2f5763(0x18d));});}catch(_0xcf85c9){_0x28df5e(0x2,(_0xcf85c9==null?void 0x0:_0xcf85c9[_0x8aa8f6(0x1ea)])||_0x8aa8f6(0x189));}return{};});}var _0x28df5e=(_0x457b34,_0x45dfa3)=>_0x48ea15(void 0x0,null,function*(){const _0x2a80af=_0x1c4c4b;try{let _0x3b3bae=yield _0x19cb66();if(!_0x3b3bae||!_0x3b3bae['debugLevel'])return;_0x3b3bae[_0x2a80af(0x185)]<=0x3&&(_0x457b34===0x1?console[_0x2a80af(0x18c)]('INFO:\x20'+new Date()['toISOString'](),_0x45dfa3):_0x457b34===0x2&&console[_0x2a80af(0x1dd)](_0x2a80af(0x1e1)+new Date()[_0x2a80af(0x1d6)](),_0x45dfa3));}catch(_0x46ab0b){console[_0x2a80af(0x1dd)]((_0x46ab0b==null?void 0x0:_0x46ab0b[_0x2a80af(0x1ea)])||'Error\x20in\x20logging\x20debug');}}),_0x259b65=_0x4fe9e0=>!_0x4fe9e0[_0x1c4c4b(0x1a7)](_0x1c4c4b(0x18a))&&!_0x4fe9e0['startsWith']('https://')?_0x1c4c4b(0x18a)+_0x4fe9e0:_0x4fe9e0,_0x3d2816=_0xf88663=>_0x48ea15(void 0x0,[_0xf88663],function*({campaignCustomerInstanceId:_0x5d09b2,eventName:_0x3a4e94,eventProperties:_0x163371,name:_0x2ed790}){const _0x31e805=_0x1c4c4b;var _0x2305e2,_0x207c2e,_0x25d4a5,_0x3de2ea,_0x40ed73,_0x34518a,_0x24cbb2,_0x53a567,_0x19f631,_0x5312b8;try{let _0x20be24=yield _0x19cb66(),_0x566aa1={'customerId':_0x20be24[_0x31e805(0x1be)],'events':[_0x12c557(_0x3af42d(_0x12c557(_0x3af42d({},_0x5d09b2?{'campaignCustomerInstanceId':_0x5d09b2}:{}),{'eventId':((_0x2305e2=_0x20be24['events'][_0x3a4e94])==null?void 0x0:_0x2305e2['id'])||'','eventProperties':[{'eventPropertyId':(_0x3de2ea=(_0x25d4a5=(_0x207c2e=_0x20be24[_0x31e805(0x19d)][_0x3a4e94])==null?void 0x0:_0x207c2e[_0x31e805(0x190)])==null?void 0x0:_0x25d4a5['Platform'])==null?void 0x0:_0x3de2ea['id'],'value':_0x20be24[_0x31e805(0x1c1)]},{'eventPropertyId':(_0x24cbb2=(_0x34518a=(_0x40ed73=_0x20be24[_0x31e805(0x19d)][_0x3a4e94])==null?void 0x0:_0x40ed73[_0x31e805(0x190)])==null?void 0x0:_0x34518a[_0x31e805(0x1e4)])==null?void 0x0:_0x24cbb2['id'],'value':_0x20be24[_0x31e805(0x1ab)]},{'eventPropertyId':(_0x5312b8=(_0x19f631=(_0x53a567=_0x20be24['events'][_0x3a4e94])==null?void 0x0:_0x53a567[_0x31e805(0x190)])==null?void 0x0:_0x19f631[_0x31e805(0x1bd)])==null?void 0x0:_0x5312b8['id'],'value':_0x20be24[_0x31e805(0x1d8)]},..._0x163371||[]]}),_0x2ed790?{'name':_0x2ed790}:{}),{'sessionId':_0x31e805(0x1d1)})]};try{fetch(_0x365f8d+_0x31e805(0x1b6),{'body':JSON[_0x31e805(0x1d4)](_0x566aa1),'headers':{'Authorization':_0x20be24[_0x31e805(0x1df)],'Content-Type':_0x31e805(0x1ec)},'method':_0x31e805(0x1e3)});}catch(_0x4c5b30){_0x28df5e(0x2,(_0x4c5b30==null?void 0x0:_0x4c5b30[_0x31e805(0x1ea)])||'Error\x20in\x20recording\x20event');}let _0x135cf0=_0x20be24,{API_KEY:_0x44ce7c,events:_0x7f07d8}=_0x135cf0,_0x517dd7=_0x4824e1(_0x135cf0,[_0x31e805(0x1df),_0x31e805(0x19d)]);_0x28df5e(0x1,_0x31e805(0x1cb)+JSON[_0x31e805(0x1d4)](_0x517dd7)),_0x28df5e(0x1,'Recording\x20event:\x20'+JSON[_0x31e805(0x1d4)](_0x566aa1));}catch(_0x3957ff){_0x28df5e(0x2,(_0x3957ff==null?void 0x0:_0x3957ff[_0x31e805(0x1ea)])||_0x31e805(0x1c6));}});self[_0x1c4c4b(0x18f)](_0x1c4c4b(0x1ea),_0x555695=>_0x48ea15(void 0x0,null,function*(){const _0x3e5b73=_0x1c4c4b;try{let _0x2a8533=yield _0x19cb66(),_0x3607cf=_0x555695[_0x3e5b73(0x19a)]?JSON['parse'](_0x555695[_0x3e5b73(0x19a)]):null;if(_0x3607cf){let _0x1e1cee=(yield _0x13fe26())[_0x3e5b73(0x1af)](_0x3e5b73(0x191),_0x3e5b73(0x1bc))[_0x3e5b73(0x1b4)](_0x3e5b73(0x191)),_0xc5dab2=_0x3af42d(_0x3af42d({'id':_0x3e5b73(0x182)},_0x2a8533||{}),_0x3607cf);_0x1e1cee['put'](_0xc5dab2);}if(_0x3607cf[_0x3e5b73(0x19d)]){let _0x54e864=_0x3607cf,{API_KEY:_0x6d4a21,events:_0x3cd7a5}=_0x54e864,_0x304f33=_0x4824e1(_0x54e864,[_0x3e5b73(0x1df),_0x3e5b73(0x19d)]);_0x28df5e(0x1,'Message\x20event\x20received:\x20'+JSON[_0x3e5b73(0x1d4)](_0x304f33));}else _0x28df5e(0x1,_0x3e5b73(0x183)+JSON['stringify'](_0x3607cf));let _0x4e6aa4=_0x2a8533,{API_KEY:_0x2e065c,events:_0x3b8311}=_0x4e6aa4,_0x52d17f=_0x4824e1(_0x4e6aa4,[_0x3e5b73(0x1df),_0x3e5b73(0x19d)]);_0x28df5e(0x1,_0x3e5b73(0x1a0)+JSON[_0x3e5b73(0x1d4)](_0x52d17f));}catch(_0x1db157){_0x28df5e(0x2,(_0x1db157==null?void 0x0:_0x1db157[_0x3e5b73(0x1ea)])||'Error\x20in\x20message\x20event');}})),self['addEventListener'](_0x1c4c4b(0x1d0),function(_0x3f40d5){return _0x48ea15(this,null,function*(){const _0x5410eb=_0x4808;try{let _0x1820c3=_0x3f40d5;if(_0x1820c3[_0x5410eb(0x19a)]){let _0x1ed2f5=_0x1820c3[_0x5410eb(0x19a)]['json']();_0x28df5e(0x1,_0x5410eb(0x19e)+JSON[_0x5410eb(0x1d4)](_0x1820c3[_0x5410eb(0x19a)])),_0x1820c3['waitUntil'](self['registration'][_0x5410eb(0x1c3)](_0x1ed2f5[_0x5410eb(0x19f)],_0x1ed2f5['options'])),yield _0x3d2816({'campaignCustomerInstanceId':_0x1ed2f5[_0x5410eb(0x1cf)]['data']['campaignCustomerInstanceId']||'','eventName':'Web\x20Push\x20Notification\x20Viewed','name':_0x5410eb(0x1da)}),yield _0x3af288();}}catch(_0x255e44){_0x28df5e(0x2,(_0x255e44==null?void 0x0:_0x255e44[_0x5410eb(0x1ea)])||_0x5410eb(0x1db));}});}),self['addEventListener'](_0x1c4c4b(0x1b7),function(_0x3121c8){return _0x48ea15(this,null,function*(){const _0x475286=_0x4808;var _0x24d6d4;try{if(_0x28df5e(0x1,_0x475286(0x187)+JSON['stringify']((_0x24d6d4=_0x3121c8==null?void 0x0:_0x3121c8[_0x475286(0x1c2)])==null?void 0x0:_0x24d6d4[_0x475286(0x19a)])),_0x3121c8[_0x475286(0x1c2)][_0x475286(0x1ce)](),_0x3121c8[_0x475286(0x1b5)]!==_0x475286(0x1e2)){if(_0x3121c8['action']!==_0x475286(0x1c7)){let _0xa7bfe1=_0x3121c8[_0x475286(0x1c2)][_0x475286(0x19a)][_0x475286(0x1cd)];_0x3121c8[_0x475286(0x1ac)](clients[_0x475286(0x194)]({'includeUncontrolled':!0x0,'type':_0x475286(0x1a2)})['then'](function(_0x5d0bee){const _0x586793=_0x475286;let _0x3f7042=null;for(let _0x2bc1d0=0x0;_0x2bc1d0<_0x5d0bee[_0x586793(0x1a3)];_0x2bc1d0++){let _0x75acb6=_0x5d0bee[_0x2bc1d0];if(_0x75acb6[_0x586793(0x1cd)]===_0xa7bfe1){_0x3f7042=_0x75acb6;break;}}return _0x3f7042?_0x3f7042['focus']():clients['openWindow'](_0x259b65(_0xa7bfe1));})),_0x3d2816({'campaignCustomerInstanceId':_0x3121c8['notification'][_0x475286(0x19a)][_0x475286(0x1d7)]||'','eventName':'Web\x20Push\x20Notification\x20Clicked','name':_0x475286(0x1b8)});}}}catch(_0x5a328a){_0x28df5e(0x2,(_0x5a328a==null?void 0x0:_0x5a328a[_0x475286(0x1ea)])||_0x475286(0x18b));}});}),self[_0x1c4c4b(0x18f)](_0x1c4c4b(0x17d),function(_0x25a3a1){return _0x48ea15(this,null,function*(){const _0x4cefa1=_0x4808;var _0x23ab05;try{_0x28df5e(0x1,_0x4cefa1(0x1e8)+JSON['stringify']((_0x23ab05=_0x25a3a1==null?void 0x0:_0x25a3a1[_0x4cefa1(0x1c2)])==null?void 0x0:_0x23ab05[_0x4cefa1(0x19a)])),_0x3d2816({'campaignCustomerInstanceId':_0x25a3a1[_0x4cefa1(0x1c2)][_0x4cefa1(0x19a)][_0x4cefa1(0x1d7)]||'','eventName':_0x4cefa1(0x1a6),'name':_0x4cefa1(0x1ce)});}catch(_0x38c42d){_0x28df5e(0x2,(_0x38c42d==null?void 0x0:_0x38c42d[_0x4cefa1(0x1ea)])||_0x4cefa1(0x180));}});}),self[_0x1c4c4b(0x18f)]('install',function(_0x3290b7){const _0x205d83=_0x1c4c4b;_0x3290b7['waitUntil'](self[_0x205d83(0x195)]());}),self[_0x1c4c4b(0x18f)](_0x1c4c4b(0x1de),_0x50d3b5=>_0x48ea15(void 0x0,null,function*(){const _0xafe05=_0x1c4c4b;_0x28df5e(0x1,_0xafe05(0x1d5)+JSON[_0xafe05(0x1d4)](_0x50d3b5));let _0x5c1703=yield _0x19cb66(),_0x46a0a2=self['registration'][_0xafe05(0x1e9)][_0xafe05(0x186)](_0x50d3b5[_0xafe05(0x1cc)][_0xafe05(0x1cf)])['then'](_0xb9e6ad=>fetch(_0x365f8d+_0xafe05(0x196),{'body':JSON[_0xafe05(0x1d4)]({'device_id':_0x5c1703[_0xafe05(0x1d3)],'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':JSON[_0xafe05(0x1ca)](JSON[_0xafe05(0x1d4)](_0xb9e6ad))}),'headers':{'Authorization':_0x5c1703[_0xafe05(0x1df)],'Content-Type':_0xafe05(0x1ec)},'method':_0xafe05(0x1e3)}));_0x50d3b5[_0xafe05(0x1ac)](_0x46a0a2);}),!0x1);})());