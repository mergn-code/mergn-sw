'use strict';function _0x2759(){const _0x1ac0ca=['unsubscribe','options','addEventListener','http://','POST','push','405955WqXJoM','API_KEY','ERROR:\x20','startsWith','parse','/v2/event/record-event','createObjectStore','notification','9bOBKrj','PUT','skipWaiting','device_id','Recording\x20event\x20config:\x20','Subscription\x20updated','https://','https://api.mergn.com/sdk-management/api','13345kIdArd','abcd','call','message','pushsubscriptionchange','/brand/get-web-push-public-key','result','osVersion','onerror','openWindow','close','apply','stringify','2076QyRVCy','url','data','map','objectStore','Web\x20Push\x20Notification\x20Clicked','7irMyQP','Error\x20in\x20activate\x20event','registration','\x20does\x20not\x20have\x20a\x20valid\x20eventProperty.','error','contains','Error\x20in\x20recording\x20event','Notification\x20close\x20event\x20received:\x20','eventProperty','catch','996NSuKKP','matchAll','subscribe','191781bnoBmA','customer','waitUntil','campaignCustomerInstanceId','resolve','oldSubscription','pushManager','install','defineProperty','focus','operating-system','Error\x20in\x20push\x20event','2444468CSvjeL','toISOString','Event\x20','Web\x20Push\x20Notification\x20Closed','length','debugLevel','6057624IrZRxL','onsuccess','window','\x20is\x20not\x20valid.','Message\x20event\x20config:\x20','action1','objectStoreNames','Error\x20in\x20updating\x20subscription\x20details','Error\x20in\x20logging\x20debug','/device/add-device-token','info','operatingSystem','notificationclose','Recording\x20event:\x20','showNotification','prototype','Unsubscribed\x20successfully','onupgradeneeded','next','action','json','application/json','permissionState','96833wbHHpt','Message\x20event\x20received:\x20','indexOf','Error\x20in\x20notification\x20close\x20event','then','events','throw','click','MergnObjectStore','filter','get','Push\x20event\x20data\x20received:\x20','view','Error\x20in\x20notification\x20click\x20event','value','action2','Updating\x20subscription\x20details','hasOwnProperty','title','Platform','transaction','Push\x20subscription\x20change\x20event\x20received:\x20','config','183336VFRNFG','getOwnPropertyDescriptors','No\x20subscription\x20found','570zIipLs','done'];_0x2759=function(){return _0x1ac0ca;};return _0x2759();}(function(_0x45a7c4,_0x32fe38){const _0x37878e=_0x5c60,_0x27afc6=_0x45a7c4();while(!![]){try{const _0xc91c8e=parseInt(_0x37878e(0x1af))/0x1+parseInt(_0x37878e(0x170))/0x2+-parseInt(_0x37878e(0x1b7))/0x3*(parseInt(_0x37878e(0x1a4))/0x4)+-parseInt(_0x37878e(0x1bf))/0x5*(parseInt(_0x37878e(0x1cc))/0x6)+parseInt(_0x37878e(0x157))/0x7*(parseInt(_0x37878e(0x176))/0x8)+-parseInt(_0x37878e(0x164))/0x9*(parseInt(_0x37878e(0x1a7))/0xa)+-parseInt(_0x37878e(0x18d))/0xb*(-parseInt(_0x37878e(0x161))/0xc);if(_0xc91c8e===_0x32fe38)break;else _0x27afc6['push'](_0x27afc6['shift']());}catch(_0x2507af){_0x27afc6['push'](_0x27afc6['shift']());}}}(_0x2759,0xcd304));function _0x5c60(_0x1c4baa,_0xf011a7){const _0x27594b=_0x2759();return _0x5c60=function(_0x5c6056,_0x2f4e0f){_0x5c6056=_0x5c6056-0x154;let _0xd498a3=_0x27594b[_0x5c6056];return _0xd498a3;},_0x5c60(_0x1c4baa,_0xf011a7);}((()=>{const _0x374eb8=_0x5c60;var _0x2680c7=Object[_0x374eb8(0x16c)],_0x1bbcaf=Object['defineProperties'],_0x427098=Object[_0x374eb8(0x1a5)],_0x2f77d5=Object['getOwnPropertySymbols'],_0x41da00=Object[_0x374eb8(0x185)][_0x374eb8(0x19e)],_0x2ea5e2=Object[_0x374eb8(0x185)]['propertyIsEnumerable'],_0x3179fb=(_0xa61d66,_0x482f9c,_0x1a265c)=>_0x482f9c in _0xa61d66?_0x2680c7(_0xa61d66,_0x482f9c,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x1a265c}):_0xa61d66[_0x482f9c]=_0x1a265c,_0x11b5c8=(_0xd665fc,_0x5e99dd)=>{const _0x3973f5=_0x374eb8;for(var _0x2c1625 in _0x5e99dd||(_0x5e99dd={}))_0x41da00[_0x3973f5(0x1c1)](_0x5e99dd,_0x2c1625)&&_0x3179fb(_0xd665fc,_0x2c1625,_0x5e99dd[_0x2c1625]);if(_0x2f77d5){for(var _0x2c1625 of _0x2f77d5(_0x5e99dd))_0x2ea5e2[_0x3973f5(0x1c1)](_0x5e99dd,_0x2c1625)&&_0x3179fb(_0xd665fc,_0x2c1625,_0x5e99dd[_0x2c1625]);}return _0xd665fc;},_0x1d60c2=(_0x251d80,_0x6c98f0)=>_0x1bbcaf(_0x251d80,_0x427098(_0x6c98f0)),_0x215a7a=(_0x323dc0,_0x11bb3d)=>{const _0x420483=_0x374eb8;var _0x168937={};for(var _0x42ba13 in _0x323dc0)_0x41da00[_0x420483(0x1c1)](_0x323dc0,_0x42ba13)&&_0x11bb3d[_0x420483(0x18f)](_0x42ba13)<0x0&&(_0x168937[_0x42ba13]=_0x323dc0[_0x42ba13]);if(_0x323dc0!=null&&_0x2f77d5){for(var _0x42ba13 of _0x2f77d5(_0x323dc0))_0x11bb3d['indexOf'](_0x42ba13)<0x0&&_0x2ea5e2[_0x420483(0x1c1)](_0x323dc0,_0x42ba13)&&(_0x168937[_0x42ba13]=_0x323dc0[_0x42ba13]);}return _0x168937;},_0x58f712=(_0x1b1045,_0x40754f,_0xe3ef95)=>new Promise((_0x330e35,_0x46510e)=>{const _0x257ca7=_0x374eb8;var _0x284dcd=_0x5d6eb7=>{const _0x2b9808=_0x5c60;try{_0x2f1224(_0xe3ef95[_0x2b9808(0x188)](_0x5d6eb7));}catch(_0x15a787){_0x46510e(_0x15a787);}},_0x68882c=_0x16c19f=>{const _0x6b9118=_0x5c60;try{_0x2f1224(_0xe3ef95[_0x6b9118(0x193)](_0x16c19f));}catch(_0xd8977e){_0x46510e(_0xd8977e);}},_0x2f1224=_0x30bef4=>_0x30bef4[_0x257ca7(0x1a8)]?_0x330e35(_0x30bef4[_0x257ca7(0x19b)]):Promise[_0x257ca7(0x168)](_0x30bef4[_0x257ca7(0x19b)])[_0x257ca7(0x191)](_0x284dcd,_0x68882c);_0x2f1224((_0xe3ef95=_0xe3ef95[_0x257ca7(0x1ca)](_0x1b1045,_0x40754f))[_0x257ca7(0x188)]());}),_0xc3971a=_0x374eb8(0x1be),_0x7da381=()=>new Promise((_0x290b69,_0x299e36)=>{const _0x45887c=_0x374eb8;let _0x55a01a=indexedDB['open']('MyMergnDatabase',0x1);_0x55a01a[_0x45887c(0x187)]=function(){const _0x2ceb6f=_0x45887c;let _0x2e8e7d=_0x55a01a[_0x2ceb6f(0x1c5)];_0x2e8e7d[_0x2ceb6f(0x17c)][_0x2ceb6f(0x15c)](_0x2ceb6f(0x195))||_0x2e8e7d[_0x2ceb6f(0x1b5)](_0x2ceb6f(0x195),{'keyPath':'id'});},_0x55a01a[_0x45887c(0x177)]=()=>_0x290b69(_0x55a01a[_0x45887c(0x1c5)]),_0x55a01a[_0x45887c(0x1c7)]=()=>_0x299e36(_0x55a01a[_0x45887c(0x15b)]);}),_0x2bfe1f=()=>_0x58f712(void 0x0,null,function*(){let _0x48a540=yield _0x7da381();return new Promise((_0x56d456,_0x2ca692)=>{const _0x222d67=_0x5c60;let _0x575567=_0x48a540[_0x222d67(0x1a1)](_0x222d67(0x195),'readonly')[_0x222d67(0x155)](_0x222d67(0x195))[_0x222d67(0x197)](_0x222d67(0x1a3));_0x575567[_0x222d67(0x177)]=()=>_0x56d456(_0x575567['result']),_0x575567[_0x222d67(0x1c7)]=()=>_0x2ca692(_0x575567['error']);});});function _0x3090fb(){return _0x58f712(this,null,function*(){const _0x56e54e=_0x5c60;try{let _0x5688a3=yield self[_0x56e54e(0x159)]['pushManager']['getSubscription']();_0x5688a3?(yield _0x5688a3[_0x56e54e(0x1a9)](),_0x5afc73(0x1,_0x56e54e(0x186))):_0x5afc73(0x1,_0x56e54e(0x1a6));}catch(_0x25918c){_0x5afc73(0x2,(_0x25918c==null?void 0x0:_0x25918c['message'])||'Error\x20in\x20unsubscribing\x20push\x20manager');}});}function _0x36b276(){return _0x58f712(this,null,function*(){const _0x3751f5=_0x5c60;try{_0x5afc73(0x1,_0x3751f5(0x19d));let _0x4365d9=yield _0x2bfe1f(),_0x21fdaa=yield(yield fetch(_0xc3971a+_0x3751f5(0x1c4),{'headers':{'Authorization':_0x4365d9[_0x3751f5(0x1b0)],'Content-Type':_0x3751f5(0x18b)},'method':'GET'}))[_0x3751f5(0x18a)](),_0x30d28f=yield self[_0x3751f5(0x159)][_0x3751f5(0x16a)][_0x3751f5(0x18c)]({'applicationServerKey':_0x21fdaa['data'],'userVisibleOnly':!0x0});if(_0x5afc73(0x1,'Permission\x20state:\x20'+_0x30d28f),_0x30d28f==='granted')return yield _0x3090fb(),self[_0x3751f5(0x159)][_0x3751f5(0x16a)][_0x3751f5(0x163)]({'applicationServerKey':_0x21fdaa[_0x3751f5(0x1ce)],'userVisibleOnly':!0x0})[_0x3751f5(0x191)](_0x33f485=>fetch(_0xc3971a+_0x3751f5(0x17f),{'body':JSON[_0x3751f5(0x1cb)]({'customer_id':_0x4365d9[_0x3751f5(0x165)],'device_id':_0x4365d9[_0x3751f5(0x1ba)],'device_platform':_0x4365d9[_0x3751f5(0x181)],'is_web_push_subscribed':!0x0,'os':_0x4365d9[_0x3751f5(0x1a0)],'web_push_subscription_page_url':'/','web_push_token':{'token':JSON['parse'](JSON[_0x3751f5(0x1cb)](_0x33f485))}}),'headers':{'Authorization':_0x4365d9['API_KEY'],'Content-Type':_0x3751f5(0x18b)},'method':_0x3751f5(0x1b8)})[_0x3751f5(0x191)](()=>{const _0x36f209=_0x3751f5;_0x5afc73(0x1,_0x36f209(0x1bc));}))[_0x3751f5(0x160)](_0x527c30=>{const _0x5055d3=_0x3751f5;_0x5afc73(0x2,(_0x527c30==null?void 0x0:_0x527c30[_0x5055d3(0x1c2)])||_0x5055d3(0x17d));});}catch(_0x1258c5){_0x5afc73(0x2,(_0x1258c5==null?void 0x0:_0x1258c5[_0x3751f5(0x1c2)])||_0x3751f5(0x158));}return{};});}var _0x5afc73=(_0x52b9a4,_0x369e23)=>_0x58f712(void 0x0,null,function*(){const _0x1c8bd7=_0x374eb8;try{let _0x2bf0b2=yield _0x2bfe1f();if(!_0x2bf0b2||!_0x2bf0b2[_0x1c8bd7(0x175)])return;_0x2bf0b2['debugLevel']<=0x3&&(_0x52b9a4===0x1?console[_0x1c8bd7(0x180)]('INFO:\x20'+new Date()[_0x1c8bd7(0x171)](),_0x369e23):_0x52b9a4===0x2&&console[_0x1c8bd7(0x15b)](_0x1c8bd7(0x1b1)+new Date()[_0x1c8bd7(0x171)](),_0x369e23));}catch(_0x5e8157){console['error']((_0x5e8157==null?void 0x0:_0x5e8157['message'])||_0x1c8bd7(0x17e));}}),_0x565c26=_0x61d7ab=>!_0x61d7ab[_0x374eb8(0x1b2)](_0x374eb8(0x1ac))&&!_0x61d7ab[_0x374eb8(0x1b2)](_0x374eb8(0x1bd))?'http://'+_0x61d7ab:_0x61d7ab,_0x5dee2c=(_0x2825ec,_0x69c268,_0x8d01c6)=>{const _0x124bfe=_0x374eb8;if(!Object[_0x124bfe(0x185)][_0x124bfe(0x19e)][_0x124bfe(0x1c1)](_0x2825ec,_0x69c268))return _0x124bfe(0x172)+_0x69c268+_0x124bfe(0x179);if(!_0x8d01c6)return[];let _0x2835aa=_0x2825ec[_0x69c268];if(!(_0x2835aa!=null&&_0x2835aa['eventProperty']))return'Event\x20'+_0x69c268+_0x124bfe(0x15a);let _0x1864b1=_0x8d01c6[_0x124bfe(0x196)](({eventProperty:_0x3dabe5})=>!Object['prototype']['hasOwnProperty'][_0x124bfe(0x1c1)](_0x2835aa['eventProperty'],_0x3dabe5))[_0x124bfe(0x154)](({eventProperty:_0x5afe9e})=>_0x5afe9e);return _0x1864b1[_0x124bfe(0x174)]>0x0?_0x124bfe(0x172)+_0x69c268+'\x20has\x20invalid\x20eventProperties:\x20'+_0x1864b1['join'](',\x20')+'.':_0x8d01c6[_0x124bfe(0x154)](({eventProperty:_0x390a48,value:_0x4b78e3})=>({'eventPropertyId':_0x2835aa[_0x124bfe(0x15f)][_0x390a48]['id'],'value':_0x4b78e3}));},_0x1231dd=_0x550da7=>_0x58f712(void 0x0,[_0x550da7],function*({campaignCustomerInstanceId:_0xca9a85,eventName:_0x5948e5,eventProperties:_0x153da9,name:_0x335576}){const _0x7539ae=_0x374eb8;var _0x40d2e9,_0x5000fd,_0x52d173,_0x4e3cf9,_0x19a84a,_0x5a6597,_0xfb8fe8,_0x538d52,_0x38f48c,_0x305ec0;try{_0x5afc73(0x1,_0x7539ae(0x183)+_0x5948e5);let _0x1acb95=yield _0x2bfe1f(),_0x3bbacf=_0x5dee2c(_0x1acb95[_0x7539ae(0x192)],_0x5948e5,_0x153da9);if(typeof _0x3bbacf=='string'){_0x5afc73(0x2,_0x3bbacf);return;}let _0x9eb55a={'customerId':_0x1acb95[_0x7539ae(0x165)],'events':[_0x1d60c2(_0x11b5c8(_0x1d60c2(_0x11b5c8({},_0xca9a85?{'campaignCustomerInstanceId':_0xca9a85}:{}),{'eventId':((_0x40d2e9=_0x1acb95['events'][_0x5948e5])==null?void 0x0:_0x40d2e9['id'])||'','eventProperties':[{'eventPropertyId':(_0x4e3cf9=(_0x52d173=(_0x5000fd=_0x1acb95['events'][_0x5948e5])==null?void 0x0:_0x5000fd[_0x7539ae(0x15f)])==null?void 0x0:_0x52d173[_0x7539ae(0x1a0)])==null?void 0x0:_0x4e3cf9['id'],'value':_0x1acb95[_0x7539ae(0x1a0)]},{'eventPropertyId':(_0xfb8fe8=(_0x5a6597=(_0x19a84a=_0x1acb95[_0x7539ae(0x192)][_0x5948e5])==null?void 0x0:_0x19a84a[_0x7539ae(0x15f)])==null?void 0x0:_0x5a6597[_0x7539ae(0x16e)])==null?void 0x0:_0xfb8fe8['id'],'value':_0x1acb95[_0x7539ae(0x181)]},{'eventPropertyId':(_0x305ec0=(_0x38f48c=(_0x538d52=_0x1acb95[_0x7539ae(0x192)][_0x5948e5])==null?void 0x0:_0x538d52[_0x7539ae(0x15f)])==null?void 0x0:_0x38f48c['os-version'])==null?void 0x0:_0x305ec0['id'],'value':_0x1acb95[_0x7539ae(0x1c6)]},..._0x3bbacf]}),_0x335576?{'name':_0x335576}:{}),{'sessionId':_0x7539ae(0x1c0)})]};try{yield fetch(_0xc3971a+_0x7539ae(0x1b4),{'body':JSON[_0x7539ae(0x1cb)](_0x9eb55a),'headers':{'Authorization':_0x1acb95[_0x7539ae(0x1b0)],'Content-Type':_0x7539ae(0x18b)},'method':_0x7539ae(0x1ad)});}catch(_0x423eec){_0x5afc73(0x2,(_0x423eec==null?void 0x0:_0x423eec['message'])||'Error\x20in\x20recording\x20event');}let _0x10a0d6=_0x1acb95,{API_KEY:_0x28aac7,events:_0xdbf8c}=_0x10a0d6,_0x2483f8=_0x215a7a(_0x10a0d6,[_0x7539ae(0x1b0),_0x7539ae(0x192)]);_0x5afc73(0x1,_0x7539ae(0x1bb)+JSON[_0x7539ae(0x1cb)](_0x2483f8)),_0x5afc73(0x1,_0x7539ae(0x183)+JSON[_0x7539ae(0x1cb)](_0x9eb55a));}catch(_0x387e25){_0x5afc73(0x2,(_0x387e25==null?void 0x0:_0x387e25[_0x7539ae(0x1c2)])||_0x7539ae(0x15d));}});self['addEventListener']('message',_0x3cd95b=>_0x58f712(void 0x0,null,function*(){const _0x227ebb=_0x374eb8;try{let _0x2a2ca5=yield _0x2bfe1f(),_0x44123e=_0x3cd95b[_0x227ebb(0x1ce)]?JSON[_0x227ebb(0x1b3)](_0x3cd95b[_0x227ebb(0x1ce)]):null;if(_0x44123e){let _0x334997=(yield _0x7da381())[_0x227ebb(0x1a1)](_0x227ebb(0x195),'readwrite')['objectStore'](_0x227ebb(0x195)),_0x2ae450=_0x11b5c8(_0x11b5c8({'id':'config'},_0x2a2ca5||{}),_0x44123e);_0x334997['put'](_0x2ae450);}if(_0x44123e[_0x227ebb(0x192)]){let _0x134207=_0x44123e,{API_KEY:_0x57bfea,events:_0x137475}=_0x134207,_0x2851cb=_0x215a7a(_0x134207,[_0x227ebb(0x1b0),_0x227ebb(0x192)]);_0x5afc73(0x1,_0x227ebb(0x18e)+JSON[_0x227ebb(0x1cb)](_0x2851cb));}else _0x5afc73(0x1,'Message\x20event\x20received:\x20'+JSON[_0x227ebb(0x1cb)](_0x44123e));let _0xdc12cc=_0x2a2ca5,{API_KEY:_0x3ef559,events:_0x42ad0e}=_0xdc12cc,_0x12d688=_0x215a7a(_0xdc12cc,[_0x227ebb(0x1b0),'events']);_0x5afc73(0x1,_0x227ebb(0x17a)+JSON[_0x227ebb(0x1cb)](_0x12d688));}catch(_0xd5a034){_0x5afc73(0x2,(_0xd5a034==null?void 0x0:_0xd5a034[_0x227ebb(0x1c2)])||'Error\x20in\x20message\x20event');}})),self[_0x374eb8(0x1ab)](_0x374eb8(0x1ae),function(_0x25f398){return _0x58f712(this,null,function*(){const _0x3df341=_0x5c60;try{let _0x241a77=_0x25f398;if(_0x241a77['data']){let _0x2156fd=_0x241a77[_0x3df341(0x1ce)][_0x3df341(0x18a)]();_0x5afc73(0x1,_0x3df341(0x198)+JSON[_0x3df341(0x1cb)](_0x241a77[_0x3df341(0x1ce)])),_0x241a77[_0x3df341(0x166)](self['registration'][_0x3df341(0x184)](_0x2156fd[_0x3df341(0x19f)],_0x2156fd[_0x3df341(0x1aa)])),yield _0x1231dd({'campaignCustomerInstanceId':_0x2156fd[_0x3df341(0x1aa)][_0x3df341(0x1ce)][_0x3df341(0x167)]||'','eventName':'Web\x20Push\x20Notification\x20Viewed','name':_0x3df341(0x199)}),yield _0x36b276();}}catch(_0x212ddd){_0x5afc73(0x2,(_0x212ddd==null?void 0x0:_0x212ddd['message'])||_0x3df341(0x16f));}});}),self[_0x374eb8(0x1ab)]('notificationclick',function(_0x2bcec3){return _0x58f712(this,null,function*(){const _0x255030=_0x5c60;var _0x36f708;try{if(_0x5afc73(0x1,'Notification\x20click\x20event\x20received:\x20'+JSON[_0x255030(0x1cb)]((_0x36f708=_0x2bcec3==null?void 0x0:_0x2bcec3[_0x255030(0x1b6)])==null?void 0x0:_0x36f708[_0x255030(0x1ce)])),_0x2bcec3[_0x255030(0x1b6)][_0x255030(0x1c9)](),_0x2bcec3['action']!==_0x255030(0x17b)){if(_0x2bcec3[_0x255030(0x189)]!==_0x255030(0x19c)){let _0x507709=_0x2bcec3['notification'][_0x255030(0x1ce)]['url'];_0x2bcec3['waitUntil'](clients[_0x255030(0x162)]({'includeUncontrolled':!0x0,'type':_0x255030(0x178)})[_0x255030(0x191)](function(_0x5f4f24){const _0xcf0e2d=_0x255030;let _0x4447b3=null;for(let _0x2887a9=0x0;_0x2887a9<_0x5f4f24[_0xcf0e2d(0x174)];_0x2887a9++){let _0x1695b8=_0x5f4f24[_0x2887a9];if(_0x1695b8[_0xcf0e2d(0x1cd)]===_0x507709){_0x4447b3=_0x1695b8;break;}}return _0x4447b3?_0x4447b3[_0xcf0e2d(0x16d)]():clients[_0xcf0e2d(0x1c8)](_0x565c26(_0x507709));})),_0x1231dd({'campaignCustomerInstanceId':_0x2bcec3[_0x255030(0x1b6)][_0x255030(0x1ce)][_0x255030(0x167)]||'','eventName':_0x255030(0x156),'name':_0x255030(0x194)});}}}catch(_0x565ab9){_0x5afc73(0x2,(_0x565ab9==null?void 0x0:_0x565ab9[_0x255030(0x1c2)])||_0x255030(0x19a));}});}),self[_0x374eb8(0x1ab)](_0x374eb8(0x182),function(_0xcbf3b4){return _0x58f712(this,null,function*(){const _0xe3762e=_0x5c60;var _0x4d7962;try{_0x5afc73(0x1,_0xe3762e(0x15e)+JSON['stringify']((_0x4d7962=_0xcbf3b4==null?void 0x0:_0xcbf3b4[_0xe3762e(0x1b6)])==null?void 0x0:_0x4d7962['data'])),_0x1231dd({'campaignCustomerInstanceId':_0xcbf3b4['notification'][_0xe3762e(0x1ce)][_0xe3762e(0x167)]||'','eventName':_0xe3762e(0x173),'name':_0xe3762e(0x1c9)});}catch(_0x4cae3f){_0x5afc73(0x2,(_0x4cae3f==null?void 0x0:_0x4cae3f[_0xe3762e(0x1c2)])||_0xe3762e(0x190));}});}),self['addEventListener'](_0x374eb8(0x16b),function(_0x254560){const _0x23f474=_0x374eb8;_0x254560[_0x23f474(0x166)](self[_0x23f474(0x1b9)]());}),self[_0x374eb8(0x1ab)](_0x374eb8(0x1c3),_0x4864c1=>_0x58f712(void 0x0,null,function*(){const _0x3d3f03=_0x374eb8;_0x5afc73(0x1,_0x3d3f03(0x1a2)+JSON[_0x3d3f03(0x1cb)](_0x4864c1));let _0x4bb0e6=yield _0x2bfe1f(),_0x50c97b=self[_0x3d3f03(0x159)][_0x3d3f03(0x16a)][_0x3d3f03(0x163)](_0x4864c1[_0x3d3f03(0x169)][_0x3d3f03(0x1aa)])[_0x3d3f03(0x191)](_0x4253fb=>fetch(_0xc3971a+'/device/add-device-token',{'body':JSON[_0x3d3f03(0x1cb)]({'device_id':_0x4bb0e6[_0x3d3f03(0x1ba)],'device_platform':_0x4bb0e6[_0x3d3f03(0x181)],'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x3d3f03(0x1b3)](JSON[_0x3d3f03(0x1cb)](_0x4253fb))}}),'headers':{'Authorization':_0x4bb0e6['API_KEY'],'Content-Type':_0x3d3f03(0x18b)},'method':'POST'}));_0x4864c1[_0x3d3f03(0x166)](_0x50c97b);}),!0x1);})());