'use strict';function _0x2bb2(_0x3ce2b4,_0x10b9d4){const _0x5e4b92=_0x5e4b();return _0x2bb2=function(_0x2bb2d9,_0x324dce){_0x2bb2d9=_0x2bb2d9-0xa8;let _0x31d44e=_0x5e4b92[_0x2bb2d9];return _0x31d44e;},_0x2bb2(_0x3ce2b4,_0x10b9d4);}(function(_0x37597c,_0x218a13){const _0x97ce5d=_0x2bb2,_0x1452d8=_0x37597c();while(!![]){try{const _0x4f2b25=-parseInt(_0x97ce5d(0xe9))/0x1*(-parseInt(_0x97ce5d(0xae))/0x2)+parseInt(_0x97ce5d(0xcf))/0x3+parseInt(_0x97ce5d(0xef))/0x4*(parseInt(_0x97ce5d(0xdd))/0x5)+-parseInt(_0x97ce5d(0xea))/0x6+-parseInt(_0x97ce5d(0xec))/0x7*(-parseInt(_0x97ce5d(0xd7))/0x8)+parseInt(_0x97ce5d(0xe1))/0x9+-parseInt(_0x97ce5d(0xd9))/0xa;if(_0x4f2b25===_0x218a13)break;else _0x1452d8['push'](_0x1452d8['shift']());}catch(_0x43b3c4){_0x1452d8['push'](_0x1452d8['shift']());}}}(_0x5e4b,0xed2cd));((()=>{const _0x2d5422=_0x2bb2;var _0x1076e9=Object['defineProperty'],_0x397154=Object['defineProperties'],_0x4b3689=Object['getOwnPropertyDescriptors'],_0x12a939=Object[_0x2d5422(0x106)],_0x352d8e=Object[_0x2d5422(0xf8)]['hasOwnProperty'],_0x534e66=Object[_0x2d5422(0xf8)][_0x2d5422(0x110)],_0x255757=(_0x233fd5,_0x380f79,_0x5984ad)=>_0x380f79 in _0x233fd5?_0x1076e9(_0x233fd5,_0x380f79,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x5984ad}):_0x233fd5[_0x380f79]=_0x5984ad,_0x134dc3=(_0x2c8151,_0x59542e)=>{const _0x277f95=_0x2d5422;for(var _0x38ddf2 in _0x59542e||(_0x59542e={}))_0x352d8e[_0x277f95(0xe0)](_0x59542e,_0x38ddf2)&&_0x255757(_0x2c8151,_0x38ddf2,_0x59542e[_0x38ddf2]);if(_0x12a939){for(var _0x38ddf2 of _0x12a939(_0x59542e))_0x534e66[_0x277f95(0xe0)](_0x59542e,_0x38ddf2)&&_0x255757(_0x2c8151,_0x38ddf2,_0x59542e[_0x38ddf2]);}return _0x2c8151;},_0x3bbc2a=(_0x5cf83b,_0x5a68dd)=>_0x397154(_0x5cf83b,_0x4b3689(_0x5a68dd)),_0xce656a=(_0x2666a5,_0x41ece5)=>{const _0x4fbc=_0x2d5422;var _0x69e5a9={};for(var _0x2a49b4 in _0x2666a5)_0x352d8e['call'](_0x2666a5,_0x2a49b4)&&_0x41ece5['indexOf'](_0x2a49b4)<0x0&&(_0x69e5a9[_0x2a49b4]=_0x2666a5[_0x2a49b4]);if(_0x2666a5!=null&&_0x12a939){for(var _0x2a49b4 of _0x12a939(_0x2666a5))_0x41ece5[_0x4fbc(0xee)](_0x2a49b4)<0x0&&_0x534e66[_0x4fbc(0xe0)](_0x2666a5,_0x2a49b4)&&(_0x69e5a9[_0x2a49b4]=_0x2666a5[_0x2a49b4]);}return _0x69e5a9;},_0x5be883=(_0x400818,_0x153142,_0x1065f3)=>new Promise((_0x14be06,_0x14b085)=>{const _0x407b6a=_0x2d5422;var _0x37fa78=_0x1bbf1f=>{const _0x11bbf1=_0x2bb2;try{_0x2b31cf(_0x1065f3[_0x11bbf1(0xf1)](_0x1bbf1f));}catch(_0x3eb16f){_0x14b085(_0x3eb16f);}},_0x2d3d45=_0xc951d5=>{const _0x3cf5a9=_0x2bb2;try{_0x2b31cf(_0x1065f3[_0x3cf5a9(0x109)](_0xc951d5));}catch(_0x31d7c5){_0x14b085(_0x31d7c5);}},_0x2b31cf=_0x2b811b=>_0x2b811b['done']?_0x14be06(_0x2b811b['value']):Promise[_0x407b6a(0xd0)](_0x2b811b[_0x407b6a(0xc2)])['then'](_0x37fa78,_0x2d3d45);_0x2b31cf((_0x1065f3=_0x1065f3[_0x407b6a(0x107)](_0x400818,_0x153142))['next']());}),_0x4a81ac='https://u23z4zsda8.execute-api.ap-southeast-1.amazonaws.com/Prod/sdk-management/api',_0x970023=()=>new Promise((_0xbebbbb,_0x5c787b)=>{const _0x14202e=_0x2d5422;let _0x488cb2=indexedDB[_0x14202e(0x112)](_0x14202e(0xb5),0x1);_0x488cb2[_0x14202e(0xaa)]=function(){const _0x3c85be=_0x14202e;let _0x37a862=_0x488cb2[_0x3c85be(0x101)];_0x37a862[_0x3c85be(0xb8)][_0x3c85be(0xf5)](_0x3c85be(0xfc))||_0x37a862[_0x3c85be(0xb1)](_0x3c85be(0xfc),{'keyPath':'id'});},_0x488cb2[_0x14202e(0xf4)]=()=>_0xbebbbb(_0x488cb2['result']),_0x488cb2[_0x14202e(0xd8)]=()=>_0x5c787b(_0x488cb2[_0x14202e(0x115)]);}),_0x2ed12e=()=>_0x5be883(void 0x0,null,function*(){let _0x2e97eb=yield _0x970023();return new Promise((_0xbef6dd,_0x196972)=>{const _0x20a738=_0x2bb2;let _0x24a5a6=_0x2e97eb[_0x20a738(0xe6)](_0x20a738(0xfc),_0x20a738(0xc8))[_0x20a738(0xde)](_0x20a738(0xfc))['get'](_0x20a738(0xf7));_0x24a5a6[_0x20a738(0xf4)]=()=>_0xbef6dd(_0x24a5a6[_0x20a738(0x101)]),_0x24a5a6['onerror']=()=>_0x196972(_0x24a5a6['error']);});});function _0x5bbe5d(){return _0x5be883(this,null,function*(){const _0x52c17a=_0x2bb2;try{let _0x573dbf=yield self[_0x52c17a(0xce)][_0x52c17a(0x108)][_0x52c17a(0xbf)]();_0x573dbf?(yield _0x573dbf[_0x52c17a(0xc9)](),_0x28d8e4(0x1,_0x52c17a(0xeb))):_0x28d8e4(0x1,'No\x20subscription\x20found');}catch(_0x5120e0){_0x28d8e4(0x2,(_0x5120e0==null?void 0x0:_0x5120e0[_0x52c17a(0x111)])||_0x52c17a(0xb6));}});}function _0x16c072(){return _0x5be883(this,null,function*(){const _0x5cf99e=_0x2bb2;try{_0x28d8e4(0x1,_0x5cf99e(0xf0));let _0xd3a0e=yield _0x2ed12e(),_0x1f73e8=yield(yield fetch(_0x4a81ac+_0x5cf99e(0xcc),{'headers':{'Authorization':_0xd3a0e[_0x5cf99e(0xb9)],'Content-Type':_0x5cf99e(0xd3)},'method':'GET'}))[_0x5cf99e(0xdc)](),_0x4e42e3=yield self[_0x5cf99e(0xce)]['pushManager'][_0x5cf99e(0x10a)]({'applicationServerKey':_0x1f73e8[_0x5cf99e(0xf6)],'userVisibleOnly':!0x0});if(_0x28d8e4(0x1,_0x5cf99e(0xfa)+_0x4e42e3),_0x4e42e3==='granted')return yield _0x5bbe5d(),self[_0x5cf99e(0xce)][_0x5cf99e(0x108)][_0x5cf99e(0xb7)]({'applicationServerKey':_0x1f73e8[_0x5cf99e(0xf6)],'userVisibleOnly':!0x0})[_0x5cf99e(0x10f)](_0x2e7494=>fetch(_0x4a81ac+_0x5cf99e(0xc5),{'body':JSON[_0x5cf99e(0xba)]({'device_id':_0xd3a0e[_0x5cf99e(0x100)],'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON[_0x5cf99e(0xab)](JSON[_0x5cf99e(0xba)](_0x2e7494))}}),'headers':{'Authorization':_0xd3a0e['API_KEY'],'Content-Type':_0x5cf99e(0xd3)},'method':_0x5cf99e(0xda)})['then'](()=>{const _0x57d307=_0x5cf99e;_0x28d8e4(0x1,_0x57d307(0xc0)),_0x363882({'eventName':'update_token'});}))[_0x5cf99e(0xe8)](_0x48ee03=>{_0x363882({'eventName':'update_token_error','eventProperties':[{'eventPropertyId':0xad5,'value':''+_0x48ee03['message']}]});});}catch(_0x256f95){_0x28d8e4(0x2,(_0x256f95==null?void 0x0:_0x256f95['message'])||_0x5cf99e(0xf3));}return{};});}var _0x28d8e4=(_0x538f21,_0x48607e)=>_0x5be883(void 0x0,null,function*(){const _0x5591d6=_0x2d5422;try{let _0x5963d7=yield _0x2ed12e();if(!_0x5963d7||!_0x5963d7[_0x5591d6(0x104)])return;_0x5963d7[_0x5591d6(0x104)]<=0x3&&(_0x538f21===0x1?console[_0x5591d6(0xb3)](_0x5591d6(0xc6)+new Date()[_0x5591d6(0xf2)](),_0x48607e):_0x538f21===0x2&&console[_0x5591d6(0x115)](_0x5591d6(0xdb)+new Date()[_0x5591d6(0xf2)](),_0x48607e));}catch(_0xfb665b){console[_0x5591d6(0x115)]((_0xfb665b==null?void 0x0:_0xfb665b[_0x5591d6(0x111)])||_0x5591d6(0xad));}}),_0x358453=_0x54bb55=>!_0x54bb55[_0x2d5422(0xfe)](_0x2d5422(0xac))&&!_0x54bb55['startsWith']('https://')?_0x2d5422(0xac)+_0x54bb55:_0x54bb55,_0x363882=_0x4ffc9d=>_0x5be883(void 0x0,[_0x4ffc9d],function*({campaignCustomerInstanceId:_0x3cb0f1,eventName:_0x1f922d,eventProperties:_0xd0b1f5,name:_0x35254d}){const _0x1a6e4d=_0x2d5422;var _0x16f4e5,_0x33eb08,_0x1e626d,_0x923f2,_0x250132,_0x170417,_0x2c847e,_0x7993be,_0x47b501,_0x2cc084;try{let _0x29f5cc=yield _0x2ed12e(),_0xaa55d7={'customerId':_0x29f5cc['customer'],'events':[_0x3bbc2a(_0x134dc3(_0x3bbc2a(_0x134dc3({},_0x3cb0f1?{'campaignCustomerInstanceId':_0x3cb0f1}:{}),{'eventId':((_0x16f4e5=_0x29f5cc[_0x1a6e4d(0xd2)][_0x1f922d])==null?void 0x0:_0x16f4e5['id'])||'','eventProperties':[{'eventPropertyId':(_0x923f2=(_0x1e626d=(_0x33eb08=_0x29f5cc[_0x1a6e4d(0xd2)][_0x1f922d])==null?void 0x0:_0x33eb08[_0x1a6e4d(0x116)])==null?void 0x0:_0x1e626d[_0x1a6e4d(0xd6)])==null?void 0x0:_0x923f2['id'],'value':_0x29f5cc[_0x1a6e4d(0xd6)]},{'eventPropertyId':(_0x2c847e=(_0x170417=(_0x250132=_0x29f5cc[_0x1a6e4d(0xd2)][_0x1f922d])==null?void 0x0:_0x250132[_0x1a6e4d(0x116)])==null?void 0x0:_0x170417[_0x1a6e4d(0xb4)])==null?void 0x0:_0x2c847e['id'],'value':_0x29f5cc[_0x1a6e4d(0xc1)]},{'eventPropertyId':(_0x2cc084=(_0x47b501=(_0x7993be=_0x29f5cc[_0x1a6e4d(0xd2)][_0x1f922d])==null?void 0x0:_0x7993be[_0x1a6e4d(0x116)])==null?void 0x0:_0x47b501[_0x1a6e4d(0xa9)])==null?void 0x0:_0x2cc084['id'],'value':_0x29f5cc['osVersion']},..._0xd0b1f5||[]]}),_0x35254d?{'name':_0x35254d}:{}),{'sessionId':_0x1a6e4d(0x10b)})]};try{fetch(_0x4a81ac+_0x1a6e4d(0x102),{'body':JSON['stringify'](_0xaa55d7),'headers':{'Authorization':_0x29f5cc[_0x1a6e4d(0xb9)],'Content-Type':_0x1a6e4d(0xd3)},'method':_0x1a6e4d(0x10e)});}catch(_0x137d43){_0x28d8e4(0x2,(_0x137d43==null?void 0x0:_0x137d43['message'])||'Error\x20in\x20recording\x20event');}let _0x38aabf=_0x29f5cc,{API_KEY:_0x1b1884,events:_0x2f16f7}=_0x38aabf,_0x7087db=_0xce656a(_0x38aabf,[_0x1a6e4d(0xb9),_0x1a6e4d(0xd2)]);_0x28d8e4(0x1,_0x1a6e4d(0xd1)+JSON['stringify'](_0x7087db)),_0x28d8e4(0x1,_0x1a6e4d(0x105)+JSON[_0x1a6e4d(0xba)](_0xaa55d7));}catch(_0x1a0074){_0x28d8e4(0x2,(_0x1a0074==null?void 0x0:_0x1a0074[_0x1a6e4d(0x111)])||_0x1a6e4d(0xe2));}});self[_0x2d5422(0x113)](_0x2d5422(0x111),_0xd73b48=>_0x5be883(void 0x0,null,function*(){const _0x447253=_0x2d5422;try{let _0x4ff574=yield _0x2ed12e(),_0x3b39ef=_0xd73b48[_0x447253(0xf6)]?JSON[_0x447253(0xab)](_0xd73b48['data']):null;if(_0x3b39ef){let _0x7c3e7f=(yield _0x970023())[_0x447253(0xe6)](_0x447253(0xfc),_0x447253(0xc4))['objectStore'](_0x447253(0xfc)),_0x38a6a7=_0x134dc3(_0x134dc3({'id':_0x447253(0xf7)},_0x4ff574||{}),_0x3b39ef);_0x7c3e7f[_0x447253(0xbc)](_0x38a6a7);}if(_0x3b39ef[_0x447253(0xd2)]){let _0x5daf1e=_0x3b39ef,{API_KEY:_0x4128e2,events:_0x3b0977}=_0x5daf1e,_0x4fd16e=_0xce656a(_0x5daf1e,[_0x447253(0xb9),_0x447253(0xd2)]);_0x28d8e4(0x1,_0x447253(0xf9)+JSON[_0x447253(0xba)](_0x4fd16e));}else _0x28d8e4(0x1,_0x447253(0xf9)+JSON[_0x447253(0xba)](_0x3b39ef));let _0x2d4ab7=_0x4ff574,{API_KEY:_0x55c2e5,events:_0x3517dd}=_0x2d4ab7,_0x269238=_0xce656a(_0x2d4ab7,['API_KEY',_0x447253(0xd2)]);_0x28d8e4(0x1,_0x447253(0xcb)+JSON[_0x447253(0xba)](_0x269238));}catch(_0x4fb2f1){_0x28d8e4(0x2,(_0x4fb2f1==null?void 0x0:_0x4fb2f1['message'])||'Error\x20in\x20message\x20event');}})),self['addEventListener'](_0x2d5422(0xfd),function(_0x12c225){return _0x5be883(this,null,function*(){const _0x5a7c71=_0x2bb2;try{let _0x475e87=_0x12c225;if(_0x475e87[_0x5a7c71(0xf6)]){let _0x174cba=_0x475e87[_0x5a7c71(0xf6)][_0x5a7c71(0xdc)]();_0x28d8e4(0x1,_0x5a7c71(0xed)+JSON[_0x5a7c71(0xba)](_0x475e87[_0x5a7c71(0xf6)])),_0x475e87[_0x5a7c71(0x10d)](self[_0x5a7c71(0xce)][_0x5a7c71(0xbd)](_0x174cba['title'],_0x174cba[_0x5a7c71(0xc3)])),yield _0x363882({'campaignCustomerInstanceId':_0x174cba[_0x5a7c71(0xc3)][_0x5a7c71(0xf6)][_0x5a7c71(0xbe)]||'','eventName':'Web\x20Push\x20Notification\x20Viewed','name':_0x5a7c71(0xbb)}),yield _0x16c072();}}catch(_0x4bd5b0){_0x28d8e4(0x2,(_0x4bd5b0==null?void 0x0:_0x4bd5b0['message'])||_0x5a7c71(0xdf));}});}),self['addEventListener'](_0x2d5422(0xff),function(_0x580351){return _0x5be883(this,null,function*(){const _0x36cd5d=_0x2bb2;var _0x38485b;try{if(_0x28d8e4(0x1,'Notification\x20click\x20event\x20received:\x20'+JSON['stringify']((_0x38485b=_0x580351==null?void 0x0:_0x580351[_0x36cd5d(0xe4)])==null?void 0x0:_0x38485b[_0x36cd5d(0xf6)])),_0x580351[_0x36cd5d(0xe4)][_0x36cd5d(0xca)](),_0x580351[_0x36cd5d(0xaf)]!==_0x36cd5d(0xcd)){if(_0x580351[_0x36cd5d(0xaf)]!==_0x36cd5d(0x10c)){let _0x8dfa87=_0x580351['notification'][_0x36cd5d(0xf6)][_0x36cd5d(0xa8)];_0x580351[_0x36cd5d(0x10d)](clients['matchAll']({'includeUncontrolled':!0x0,'type':_0x36cd5d(0xb2)})[_0x36cd5d(0x10f)](function(_0x480922){const _0xa63e09=_0x36cd5d;let _0x39ab45=null;for(let _0x578f48=0x0;_0x578f48<_0x480922[_0xa63e09(0xb0)];_0x578f48++){let _0x5897a4=_0x480922[_0x578f48];if(_0x5897a4[_0xa63e09(0xa8)]===_0x8dfa87){_0x39ab45=_0x5897a4;break;}}return _0x39ab45?_0x39ab45['focus']():clients['openWindow'](_0x358453(_0x8dfa87));})),_0x363882({'campaignCustomerInstanceId':_0x580351[_0x36cd5d(0xe4)][_0x36cd5d(0xf6)]['campaignCustomerInstanceId']||'','eventName':_0x36cd5d(0xfb),'name':_0x36cd5d(0x103)});}}}catch(_0x1ea688){_0x28d8e4(0x2,(_0x1ea688==null?void 0x0:_0x1ea688['message'])||_0x36cd5d(0xe3));}});}),self['addEventListener'](_0x2d5422(0xc7),function(_0x2febee){return _0x5be883(this,null,function*(){const _0x564c34=_0x2bb2;var _0x45cc5a;try{_0x28d8e4(0x1,'Notification\x20close\x20event\x20received:\x20'+JSON[_0x564c34(0xba)]((_0x45cc5a=_0x2febee==null?void 0x0:_0x2febee[_0x564c34(0xe4)])==null?void 0x0:_0x45cc5a[_0x564c34(0xf6)])),_0x363882({'campaignCustomerInstanceId':_0x2febee[_0x564c34(0xe4)]['data']['campaignCustomerInstanceId']||'','eventName':_0x564c34(0xd5),'name':'close'});}catch(_0x4381a1){_0x28d8e4(0x2,(_0x4381a1==null?void 0x0:_0x4381a1['message'])||'Error\x20in\x20notification\x20close\x20event');}});}),self[_0x2d5422(0x113)](_0x2d5422(0xe5),function(_0x44f62b){const _0x4bd94a=_0x2d5422;_0x44f62b[_0x4bd94a(0x10d)](self['skipWaiting']());}),self[_0x2d5422(0x113)](_0x2d5422(0xe7),_0x2bce63=>_0x5be883(void 0x0,null,function*(){const _0x70bea0=_0x2d5422;_0x28d8e4(0x1,_0x70bea0(0xd4)+JSON[_0x70bea0(0xba)](_0x2bce63));let _0x3fb4fc=yield _0x2ed12e(),_0x2b3247=self[_0x70bea0(0xce)]['pushManager'][_0x70bea0(0xb7)](_0x2bce63[_0x70bea0(0x114)][_0x70bea0(0xc3)])[_0x70bea0(0x10f)](_0x4fb2dc=>fetch(_0x4a81ac+_0x70bea0(0xc5),{'body':JSON[_0x70bea0(0xba)]({'device_id':_0x3fb4fc['device_id'],'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':JSON[_0x70bea0(0xab)](JSON['stringify'](_0x4fb2dc))}),'headers':{'Authorization':_0x3fb4fc[_0x70bea0(0xb9)],'Content-Type':_0x70bea0(0xd3)},'method':_0x70bea0(0x10e)}));_0x2bce63['waitUntil'](_0x2b3247);}),!0x1);})());function _0x5e4b(){const _0x1e5c59=['abcd','action2','waitUntil','POST','then','propertyIsEnumerable','message','open','addEventListener','oldSubscription','error','eventProperty','url','os-version','onupgradeneeded','parse','http://','Error\x20in\x20logging\x20debug','232926tFZnGI','action','length','createObjectStore','window','info','operating-system','MyMergnDatabase','Error\x20in\x20unsubscribing\x20push\x20manager','subscribe','objectStoreNames','API_KEY','stringify','view','put','showNotification','campaignCustomerInstanceId','getSubscription','Subscription\x20updated','operatingSystem','value','options','readwrite','/device/add-device-token','INFO:\x20','notificationclose','readonly','unsubscribe','close','Message\x20event\x20config:\x20','/brand/get-web-push-public-key','action1','registration','1310010xpjIBG','resolve','Recording\x20event\x20config:\x20','events','application/json','Push\x20subscription\x20change\x20event\x20received:\x20','Web\x20Push\x20Notification\x20Closed','Platform','529264SYrFCL','onerror','16772080QAmjhs','PUT','ERROR:\x20','json','4315OqAiuP','objectStore','Error\x20in\x20push\x20event','call','6743421CCelCS','Error\x20in\x20recording\x20event','Error\x20in\x20notification\x20click\x20event','notification','install','transaction','pushsubscriptionchange','catch','9LTFqoS','73830tnQxpc','Unsubscribed\x20successfully','28AMwkOR','Push\x20event\x20data\x20received:\x20','indexOf','752HRIxyi','Updating\x20subscription\x20details','next','toISOString','Error\x20in\x20activate\x20event','onsuccess','contains','data','config','prototype','Message\x20event\x20received:\x20','Permission\x20state:\x20','Web\x20Push\x20Notification\x20Clicked','MergnObjectStore','push','startsWith','notificationclick','device_id','result','/v2/event/record-event','click','debugLevel','Recording\x20event:\x20','getOwnPropertySymbols','apply','pushManager','throw','permissionState'];_0x5e4b=function(){return _0x1e5c59;};return _0x5e4b();}