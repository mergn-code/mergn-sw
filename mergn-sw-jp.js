'use strict';function _0x4f33(_0x4a14b0,_0x5c07dc){var _0x4e5328=_0x4e53();return _0x4f33=function(_0x4f337b,_0xe6fc9d){_0x4f337b=_0x4f337b-0x1a3;var _0x4f928d=_0x4e5328[_0x4f337b];return _0x4f928d;},_0x4f33(_0x4a14b0,_0x5c07dc);}(function(_0x14ad00,_0x14a900){var _0x22025e=_0x4f33,_0x3f3162=_0x14ad00();while(!![]){try{var _0x387251=parseInt(_0x22025e(0x1c4))/0x1*(parseInt(_0x22025e(0x1db))/0x2)+-parseInt(_0x22025e(0x1f3))/0x3*(-parseInt(_0x22025e(0x1ab))/0x4)+parseInt(_0x22025e(0x1b4))/0x5*(parseInt(_0x22025e(0x1e4))/0x6)+parseInt(_0x22025e(0x1c0))/0x7+parseInt(_0x22025e(0x1c3))/0x8+parseInt(_0x22025e(0x1d6))/0x9*(parseInt(_0x22025e(0x1dd))/0xa)+parseInt(_0x22025e(0x1a9))/0xb*(-parseInt(_0x22025e(0x1d5))/0xc);if(_0x387251===_0x14a900)break;else _0x3f3162['push'](_0x3f3162['shift']());}catch(_0x3af584){_0x3f3162['push'](_0x3f3162['shift']());}}}(_0x4e53,0xd54dc));((()=>{var _0x21d47e=_0x4f33,_0x309ec3=Object[_0x21d47e(0x1d9)],_0x2f7897=Object[_0x21d47e(0x1d2)],_0x207289=Object[_0x21d47e(0x1df)],_0x5d3977=Object['getOwnPropertySymbols'],_0x123823=Object[_0x21d47e(0x1d3)][_0x21d47e(0x1f6)],_0xa5b486=Object['prototype'][_0x21d47e(0x1e8)],_0x1527e7=(_0x395682,_0x49963f,_0xf9fd71)=>_0x49963f in _0x395682?_0x309ec3(_0x395682,_0x49963f,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0xf9fd71}):_0x395682[_0x49963f]=_0xf9fd71,_0x2387de=(_0x302c93,_0x38669c)=>{var _0x3d7153=_0x21d47e;for(var _0x155aeb in _0x38669c||(_0x38669c={}))_0x123823[_0x3d7153(0x1e6)](_0x38669c,_0x155aeb)&&_0x1527e7(_0x302c93,_0x155aeb,_0x38669c[_0x155aeb]);if(_0x5d3977){for(var _0x155aeb of _0x5d3977(_0x38669c))_0xa5b486['call'](_0x38669c,_0x155aeb)&&_0x1527e7(_0x302c93,_0x155aeb,_0x38669c[_0x155aeb]);}return _0x302c93;},_0x1465b6=(_0x1601c3,_0x4089ee)=>_0x2f7897(_0x1601c3,_0x207289(_0x4089ee)),_0x74cf6=(_0xbe3589,_0x23c576,_0x4840ac)=>new Promise((_0x4b8fff,_0xdf78e3)=>{var _0x172411=_0x21d47e,_0x333d87=_0xf4e4e7=>{var _0x29930c=_0x4f33;try{_0x5021bb(_0x4840ac[_0x29930c(0x1f4)](_0xf4e4e7));}catch(_0xadb6a8){_0xdf78e3(_0xadb6a8);}},_0x26a171=_0x5653f7=>{var _0x56f0ee=_0x4f33;try{_0x5021bb(_0x4840ac[_0x56f0ee(0x1cd)](_0x5653f7));}catch(_0xf0a68b){_0xdf78e3(_0xf0a68b);}},_0x5021bb=_0x4181d6=>_0x4181d6[_0x172411(0x1de)]?_0x4b8fff(_0x4181d6[_0x172411(0x1aa)]):Promise['resolve'](_0x4181d6[_0x172411(0x1aa)])[_0x172411(0x1be)](_0x333d87,_0x26a171);_0x5021bb((_0x4840ac=_0x4840ac[_0x172411(0x1a4)](_0xbe3589,_0x23c576))[_0x172411(0x1f4)]());}),_0x4b73e9,_0x348876,_0x54b93f=_0x21d47e(0x1da);function _0x3349c5(){return _0x74cf6(this,null,function*(){var _0x2bbca7=_0x4f33;try{let _0x83035a=yield self[_0x2bbca7(0x1a5)][_0x2bbca7(0x1b5)][_0x2bbca7(0x1cb)]();_0x83035a?(yield _0x83035a['unsubscribe'](),_0x1fe35f(0x1,_0x2bbca7(0x1b9))):_0x1fe35f(0x1,_0x2bbca7(0x1f8));}catch(_0x3ade34){_0x1fe35f(0x2,(_0x3ade34==null?void 0x0:_0x3ade34[_0x2bbca7(0x1f5)])||'Error\x20in\x20unsubscribing\x20push\x20manager');}});}function _0x898ba3(_0x41bd94){return _0x74cf6(this,null,function*(){var _0x470dfa=_0x4f33;try{if(_0x1fe35f(0x1,_0x470dfa(0x1c1)),yield self['registration'][_0x470dfa(0x1b5)][_0x470dfa(0x1cb)]()){_0x1fe35f(0x1,_0x470dfa(0x1ee));let _0x876e4a=yield(yield fetch(_0x54b93f+_0x470dfa(0x1e9),{'headers':{'Authorization':'6eebe9bm332rgna9fcfa4cf11a1e3709cac44ff8c0b104bb62fd77d1e5669175d0d2f54','Content-Type':_0x470dfa(0x1c2)},'method':'GET'}))[_0x470dfa(0x1d1)]();return yield _0x3349c5(),self[_0x470dfa(0x1a5)][_0x470dfa(0x1b5)][_0x470dfa(0x1bf)]({'applicationServerKey':_0x876e4a[_0x470dfa(0x1ce)],'userVisibleOnly':!0x0})['then'](_0x23bab3=>fetch(_0x54b93f+_0x470dfa(0x1e7),{'body':JSON['stringify']({'device_id':_0x41bd94,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':{'token':JSON['parse'](JSON[_0x470dfa(0x1cc)](_0x23bab3))}}),'headers':{'Authorization':'6eebe9bm332rgna9fcfa4cf11a1e3709cac44ff8c0b104bb62fd77d1e5669175d0d2f54','Content-Type':_0x470dfa(0x1c2)},'method':_0x470dfa(0x1b2)}))[_0x470dfa(0x1c9)](_0x598989=>{var _0x5456a8=_0x470dfa;_0x1fe35f(0x2,(_0x598989==null?void 0x0:_0x598989[_0x5456a8(0x1f5)])||_0x5456a8(0x1a3));});}}catch(_0x65682b){_0x1fe35f(0x2,(_0x65682b==null?void 0x0:_0x65682b[_0x470dfa(0x1f5)])||'Error\x20in\x20activate\x20event');}return{};});}var _0x1fe35f=(_0x1bc114,_0x257c51)=>_0x74cf6(void 0x0,null,function*(){var _0x53842b=_0x21d47e;try{if(!_0x4b73e9)return;_0x4b73e9<=0x3&&(_0x1bc114===0x1?console[_0x53842b(0x1c6)](_0x53842b(0x1bd)+new Date()['toISOString'](),_0x257c51):_0x1bc114===0x2&&console[_0x53842b(0x1af)]('ERROR:\x20'+new Date()[_0x53842b(0x1e3)](),_0x257c51));}catch(_0x403126){console['error']((_0x403126==null?void 0x0:_0x403126['message'])||_0x53842b(0x1b1));}}),_0x5ee144=_0x274206=>!_0x274206['startsWith']('http://')&&!_0x274206['startsWith'](_0x21d47e(0x1f2))?_0x21d47e(0x1fa)+_0x274206:_0x274206,_0x120589=_0x2d0753=>_0x74cf6(void 0x0,[_0x2d0753],function*({campaignCustomerInstanceId:_0x2e0c44,customerId:_0xfce165,error:_0x7aef7f,eventId:_0x306e9d,name:_0x513c05}){var _0x317abd=_0x21d47e;try{let _0x9d1dbc={'customerId':_0xfce165,'events':[_0x1465b6(_0x2387de({'campaignCustomerInstanceId':_0x2e0c44,'eventId':_0x306e9d,'eventProperties':[]},_0x513c05?{'name':_0x513c05}:{}),{'sessionId':_0x317abd(0x1a7)})]};try{fetch(_0x54b93f+_0x317abd(0x1ae),{'body':JSON[_0x317abd(0x1cc)](_0x9d1dbc),'headers':{'Authorization':_0x317abd(0x1d4),'Content-Type':_0x317abd(0x1c2)},'method':_0x317abd(0x1ad)});}catch(_0x212aca){_0x1fe35f(0x2,(_0x212aca==null?void 0x0:_0x212aca[_0x317abd(0x1f5)])||_0x317abd(0x1a8));}_0x1fe35f(0x1,_0x317abd(0x1dc)),_0x1fe35f(0x1,_0x9d1dbc);}catch(_0x5d6092){_0x1fe35f(0x2,(_0x5d6092==null?void 0x0:_0x5d6092['message'])||_0x317abd(0x1a8));}});self[_0x21d47e(0x1b3)](_0x21d47e(0x1f5),_0x3ed2f1=>_0x74cf6(void 0x0,null,function*(){var _0xe6d734=_0x21d47e;try{let _0x467941=_0x3ed2f1[_0xe6d734(0x1ce)]?JSON[_0xe6d734(0x1d0)](_0x3ed2f1[_0xe6d734(0x1ce)]):null;_0x467941[_0xe6d734(0x1f9)]&&(_0x4b73e9=_0x467941[_0xe6d734(0x1f9)]),_0x467941['device_id']&&(_0x348876=_0x467941[_0xe6d734(0x1bc)]);}catch(_0x35bade){console['error']('Error\x20processing\x20event:',_0x35bade);}})),self['addEventListener']('push',function(_0x2d46ed){return _0x74cf6(this,null,function*(){var _0x293a8e=_0x4f33;try{if(_0x2d46ed[_0x293a8e(0x1ce)]){let _0x1242cd=_0x2d46ed[_0x293a8e(0x1ce)][_0x293a8e(0x1d1)]();_0x1fe35f(0x1,'Push\x20event\x20data\x20received:'),_0x1fe35f(0x1,_0x1242cd),_0x2d46ed[_0x293a8e(0x1cf)](self['registration'][_0x293a8e(0x1d7)](_0x1242cd[_0x293a8e(0x1ed)],_0x1242cd[_0x293a8e(0x1c7)])),yield _0x120589({'campaignCustomerInstanceId':_0x1242cd[_0x293a8e(0x1c7)][_0x293a8e(0x1ce)][_0x293a8e(0x1b8)]||'','customerId':''+_0x1242cd[_0x293a8e(0x1c7)]['data'][_0x293a8e(0x1e5)],'eventId':0x591,'name':_0x293a8e(0x1f0)}),yield _0x898ba3(_0x1242cd[_0x293a8e(0x1c7)][_0x293a8e(0x1ce)][_0x293a8e(0x1c8)]);}}catch(_0x312390){_0x1fe35f(0x2,(_0x312390==null?void 0x0:_0x312390[_0x293a8e(0x1f5)])||_0x293a8e(0x1b6));}});}),self['addEventListener'](_0x21d47e(0x1c5),function(_0xa8eeb){return _0x74cf6(this,null,function*(){var _0x2d64ef=_0x4f33,_0x2c49cb;try{if(_0x1fe35f(0x1,'Notification\x20click\x20event\x20received:'),_0x1fe35f(0x1,(_0x2c49cb=_0xa8eeb==null?void 0x0:_0xa8eeb['notification'])==null?void 0x0:_0x2c49cb[_0x2d64ef(0x1ce)]),_0xa8eeb[_0x2d64ef(0x1a6)][_0x2d64ef(0x1e1)](),_0xa8eeb[_0x2d64ef(0x1b7)]!=='action1'){if(_0xa8eeb['action']!==_0x2d64ef(0x1ec)){let _0x491e4b=_0xa8eeb[_0x2d64ef(0x1a6)][_0x2d64ef(0x1ce)][_0x2d64ef(0x1d8)];_0xa8eeb[_0x2d64ef(0x1cf)](clients[_0x2d64ef(0x1bb)]({'includeUncontrolled':!0x0,'type':'window'})['then'](function(_0x3cbd1d){var _0x23a752=_0x2d64ef;let _0x4250e5=null;for(let _0x4a32ba=0x0;_0x4a32ba<_0x3cbd1d[_0x23a752(0x1ba)];_0x4a32ba++){let _0x58441c=_0x3cbd1d[_0x4a32ba];if(_0x58441c[_0x23a752(0x1d8)]===_0x491e4b){_0x4250e5=_0x58441c;break;}}return _0x4250e5?_0x4250e5[_0x23a752(0x1ac)]():clients[_0x23a752(0x1e0)](_0x5ee144(_0x491e4b));})),_0x120589({'campaignCustomerInstanceId':_0xa8eeb[_0x2d64ef(0x1a6)]['data'][_0x2d64ef(0x1b8)]||'','customerId':_0xa8eeb[_0x2d64ef(0x1a6)][_0x2d64ef(0x1ce)][_0x2d64ef(0x1e5)],'eventId':0x592,'name':'click'});}}}catch(_0x296b3c){_0x1fe35f(0x2,(_0x296b3c==null?void 0x0:_0x296b3c[_0x2d64ef(0x1f5)])||_0x2d64ef(0x1f1));}});}),self[_0x21d47e(0x1b3)](_0x21d47e(0x1e2),function(_0x325cc3){return _0x74cf6(this,null,function*(){var _0x82f217=_0x4f33,_0x18058f;try{_0x1fe35f(0x1,_0x82f217(0x1ea)),_0x1fe35f(0x1,(_0x18058f=_0x325cc3==null?void 0x0:_0x325cc3[_0x82f217(0x1a6)])==null?void 0x0:_0x18058f[_0x82f217(0x1ce)]),_0x120589({'campaignCustomerInstanceId':_0x325cc3[_0x82f217(0x1a6)][_0x82f217(0x1ce)][_0x82f217(0x1b8)]||'','customerId':_0x325cc3[_0x82f217(0x1a6)][_0x82f217(0x1ce)]['customerId'],'eventId':0x595,'name':'close'});}catch(_0x7968e7){_0x1fe35f(0x2,(_0x7968e7==null?void 0x0:_0x7968e7[_0x82f217(0x1f5)])||_0x82f217(0x1f7));}});}),self[_0x21d47e(0x1b3)](_0x21d47e(0x1eb),function(_0x8f5b99){var _0xc9c609=_0x21d47e;_0x8f5b99[_0xc9c609(0x1cf)](self[_0xc9c609(0x1ca)]());}),self['addEventListener']('pushsubscriptionchange',_0x9f0988=>_0x74cf6(void 0x0,null,function*(){var _0x22e69b=_0x21d47e;if(_0x1fe35f(0x1,_0x22e69b(0x1ef)+JSON[_0x22e69b(0x1cc)](_0x9f0988)),!_0x348876)return;let _0x365a05=self[_0x22e69b(0x1a5)][_0x22e69b(0x1b5)][_0x22e69b(0x1bf)](_0x9f0988[_0x22e69b(0x1b0)][_0x22e69b(0x1c7)])[_0x22e69b(0x1be)](_0x7c3849=>fetch(_0x54b93f+_0x22e69b(0x1e7),{'body':JSON[_0x22e69b(0x1cc)]({'device_id':_0x348876,'is_web_push_subscribed':!0x0,'web_push_subscription_page_url':'/','web_push_token':JSON[_0x22e69b(0x1d0)](JSON[_0x22e69b(0x1cc)](_0x7c3849))}),'headers':{'Authorization':_0x22e69b(0x1d4),'Content-Type':_0x22e69b(0x1c2)},'method':_0x22e69b(0x1ad)}));_0x9f0988[_0x22e69b(0x1cf)](_0x365a05);}),!0x1);})());function _0x4e53(){var _0x5f9119=['customerId','call','/device/add-device-token','propertyIsEnumerable','/brand/get-web-push-public-key','Notification\x20close\x20event\x20received','install','action2','title','Existing\x20subscription\x20found','Push\x20subscription\x20change\x20event\x20received:\x20','view','Error\x20in\x20notification\x20click\x20event','https://','1903149sKtyea','next','message','hasOwnProperty','Error\x20in\x20notification\x20close\x20event','No\x20subscription\x20found','debugLevel','http://','Error\x20in\x20activate\x20event','apply','registration','notification','abcd','Error\x20in\x20recording\x20event','121dzGSPr','value','8ZmtLOq','focus','POST','/v2/event/record-event','error','oldSubscription','Error\x20in\x20logging\x20debug','PUT','addEventListener','616050BaOWoP','pushManager','Error\x20in\x20push\x20event','action','campaignCustomerInstanceId','Unsubscribed\x20successfully','length','matchAll','device_id','INFO:\x20','then','subscribe','1216530pDIkSL','Updating\x20subscription\x20details','application/json','11513736OCuWbH','832671ONDplw','notificationclick','info','options','deviceId','catch','skipWaiting','getSubscription','stringify','throw','data','waitUntil','parse','json','defineProperties','prototype','6eebe9bm332rgna9fcfa4cf11a1e3709cac44ff8c0b104bb62fd77d1e5669175d0d2f54','5678856FGfyMU','2115CvOtqG','showNotification','url','defineProperty','https://u23z4zsda8.execute-api.ap-southeast-1.amazonaws.com/Prod/sdk-management/api','4dUBKiA','Recording\x20event:','12770tpsMNw','done','getOwnPropertyDescriptors','openWindow','close','notificationclose','toISOString','60KerfXo'];_0x4e53=function(){return _0x5f9119;};return _0x4e53();}